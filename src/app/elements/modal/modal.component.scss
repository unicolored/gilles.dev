@use 'sass:color';
@use 'sass:meta';

@import '../../../styles/variables.scss';
@import '../../../styles/_bootstrap.scss';

body.modal-open {
  .woot-widget-bubble {
    z-index: 0 !important; // 2147483000 !important
  }
}

body.modal-open .modal.mywindow {
  opacity: 1;
  z-index: 2055;
}

.modal-backdrop.mybackdrop.fade.show {
  //background: var(--color-content);
  //background: rgba(255,255,255,0.9);
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(25px);
  //opacity: 0.5;
  z-index: 1055;
}

.d-block.modal.mywindow.fade {
  opacity: 0;
}

.d-block.modal.mywindow.fade.show {
  background-color: var(--color-bkg-a75);
  opacity: 1;

  .modal-dialog.mymodal {
    display: grid;
    max-width: 95vw;
    max-height: 90vh;
    width: 95vw;
    height: 90vh;
    background: none;
    @apply overflow-hidden my-4 mx-auto left-0 right-0 top-0 bottom-0;

    .modal-content {
      background: #fff;
      @apply grid h-full m-auto shadow-xl overflow-hidden;
      grid-template-rows: 60px auto;

      .modal-header {
        border-color: var(--color-bkg);
        color: var(--color-primary);
        width: 100%;
        text-align: center;
        display: flex;
        justify-content: space-between;

        .icon-close {
          cursor: pointer;
          float: right;
          outline: none;
          color: var(--color-content);
        }
      }

      .modal-body {
        @apply relative grid gap-1 w-full overflow-hidden p-0;
        grid-template-columns: 100px 1fr 100px;

        background: none;

        .itemControl {
          background: none;

          @apply flex flex-grow p-2;

          .itemControlPrevious,
          .itemControlNext {
            background: var(--color-bkg-a50);
            @apply flex flex-grow justify-center items-center rounded-md;
            @apply cursor-pointer;
          }
        }

        .itemContent {
          @apply grid grid-flow-col gap-2 p-2;
          grid-template-columns: 1fr;
          grid-template-rows: 1fr auto;
          background: none;

          .modal-body-carousel {
            background: var(--color-bkg-a50);
            @apply relative;
          }

          .modal-body-sidebar {
            background: var(--color-bkg-a50);
            @apply relative flex flex-row w-full gap-2 p-2 overflow-x-scroll rounded-md max-h-[160px];

            .attachment {
              @apply flex relative w-full overflow-hidden items-center justify-center;
              img {
                @apply rounded-sm shadow-sm;
              }
            }
          }
        }
      }
    }
  }
}
