import{a,b as i,c as x,d as A,e as R,f as Q,g as M,h as V,i as P}from"./chunk-HG6BKJAM.js";function O(e){let t=e.toString();return t.match(/[A-Z]/gi)||t.length>1&&t[0]==="0"?t:!isNaN(parseFloat(t))&&t.indexOf(":")===-1&&t.indexOf(".")===-1?`${t}.0`:t}var h=class extends a{};var w=class extends A{constructor(t,r,n){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=P[t]||t,this.addQualifier(new i("c",t)),r&&this.width(r),n&&this.height(n)}height(t){return this._actionModel.dimensions.height=t,this.addQualifier(new i("h",t))}width(t){return this._actionModel.dimensions.width=t,this.addQualifier(new i("w",t))}aspectRatio(t){if(t instanceof h)return this._actionModel.dimensions.aspectRatio=`${t}`,this.addQualifier(new i("ar",t));if(typeof t=="number"||typeof t=="string")return this._actionModel.dimensions.aspectRatio=O(t),this.addQualifier(new i("ar",O(t)));if(t instanceof x)return this._actionModel.dimensions.aspectRatio=`${t.qualifierValue}`,this.addFlag(t)}relative(){return this._actionModel.relative=!0,this.addFlag(M())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(Q())}static fromJson(t){let{actionType:r,dimensions:n,relative:o,regionRelative:l}=t,{aspectRatio:m,width:$,height:N}=n,j=V[r]||r,d=new this(j,$,N);return m&&d.aspectRatio(m==="ignore_aspect_ratio"?R():m),o&&d.relative(),l&&d.regionRelative(),d}};var s=class extends i{constructor(t){super("g",new a(t))}};var c=class extends s{constructor(){super("auto")}autoFocus(...t){return this.addValue(t),this}};var f=class extends s{constructor(t){super(t)}fallbackGravity(t){return this.addValue(t.qualifierValue),this}};var v=class extends s{constructor(t){super(t)}};function G(...e){let t=[...e];return new f(t)}function g(){return new c}var u=class extends a{constructor(t){super(),this.name=t}toString(){return this.name}};function k(){return new u("ocr_text")}function I(e){return e&&`${e}`.split(":")[0]==="auto"}function q(e){let t=b(e);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(t)}function b(e){return`${e}`.replace("g_","")}function E(e){return{compass:b(e),gravityType:"direction"}}function J(e){return b(e)==="ocr_text"}function L(){return{gravityType:"ocr"}}function W(e){return`${e.qualifierValue}`.split(":")[0]==="auto"}function Y(e){let r=e.toString().split("_"),n={object:r[0]};return r.length>1&&(r[1]==="avoid"?n.avoid=!0:n.weight=+r[1]),n}function S(e){let t,r=e==="auto"?new c:e;return`${e}`.startsWith("auto:")?t=`${e}`.split(":").filter(o=>o!=="auto"):t=r.qualifierValue.values.filter(o=>o!=="auto"),{gravityType:"auto",autoFocus:t.map(Y)}}function D(e){let t=`${e}`.split(":").includes("auto"),r=e.qualifierValue.values,o={gravityType:"object",focusOnObjects:(t?r.slice(0,r.length-1):r).map(l=>`${l}`)};if(t){let l=r[r.length-1].values.slice(1),m=g().autoFocus(...l);o.fallbackGravity=S(m)}return o}function X(e){let r=e.split(":").map(n=>new u(n));return new f(r)}function T(e){return q(e)?E(e):J(e)?L():I(e)||W(e)?S(e):D(typeof e=="string"?X(e):e)}var p=class e extends a{constructor(t,r){super(),this._weight=r,this.focusOn=t,this.shouldAvoid=!1}static focusOn(t,r){let n=t instanceof u?t:new u(t);return new e(n,r)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(t){return this._weight=t,this}avoid(){return this.shouldAvoid=!0,this}},zt=p.focusOn;var y=class extends a{constructor(t){super(),this.val=t}toString(){return this.val}};function Z(e){return e.gravityType==="direction"}function B(e){return e.gravityType==="ocr"}function K(e){return e.gravityType==="auto"}function U(e){let{object:t,weight:r,avoid:n}=e,o=new p(new u(t));return(r||r===0)&&o.weight(r),n&&o.avoid(),o}function z(e){let r=(e.autoFocus||[]).map(U);return g().autoFocus(...r)}function H(e){let t=(e.focusOnObjects||[]).map(n=>new u(n)),r=G(...t);if(e.fallbackGravity){let n=z(e.fallbackGravity);r.fallbackGravity(n)}return r}function C(e){return Z(e)?new v(new y(e.compass)):B(e)?G(k()):K(e)?z(e):H(e)}var _=class extends w{gravity(t){this._actionModel.gravity=T(t);let r=typeof t=="string"?new i("g",t):t;return this.addQualifier(r)}static fromJson(t){let r=super.fromJson.apply(this,[t]);return t.gravity&&r.gravity(C(t.gravity)),r}};var F=class extends _{x(t){return this._actionModel.x=t,this.addQualifier(new i("x",t))}y(t){return this._actionModel.y=t,this.addQualifier(new i("y",t))}static fromJson(t){let r=super.fromJson.apply(this,[t]);return t.x&&r.x(t.x),t.y&&r.y(t.y),r}};function tt(e,t){return new F("fill",e,t)}export{tt as a};
