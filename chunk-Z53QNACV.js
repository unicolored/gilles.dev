import{f as Ht}from"./chunk-B7HSQRFJ.js";import{ea as Nr}from"./chunk-URZWTTVK.js";import{Q as Tr,V as Ar,a as I,b as ue,c as Nt,d as j,e as Ze,ga as Ir}from"./chunk-DHFWLZQU.js";var tt=j((Ou,Jr)=>{"use strict";function V(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}Jr.exports=V;V.prototype._events=void 0;V.prototype._maxListeners=void 0;V.defaultMaxListeners=10;V.prototype.setMaxListeners=function(t){if(!Wa(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};V.prototype.emit=function(t){var e,r,n,i,a,s;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Ae(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(r=this._events[t],Kr(r))return!1;if(ae(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Ae(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};V.prototype.addListener=function(t,e){var r;if(!ae(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,ae(e.listener)?e.listener:e),this._events[t]?Ae(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Ae(this._events[t])&&!this._events[t].warned&&(Kr(this._maxListeners)?r=V.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};V.prototype.on=V.prototype.addListener;V.prototype.once=function(t,e){if(!ae(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this};V.prototype.removeListener=function(t,e){var r,n,i,a;if(!ae(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||ae(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Ae(r)){for(a=i;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};V.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],ae(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this};V.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:ae(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};V.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(ae(e))return 1;if(e)return e.length}return 0};V.listenerCount=function(t,e){return t.listenerCount(e)};function ae(t){return typeof t=="function"}function Wa(t){return typeof t=="number"}function Ae(t){return typeof t=="object"&&t!==null}function Kr(t){return t===void 0}});var Ct=j((Fu,Gr)=>{"use strict";function $a(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}Gr.exports=$a});var Yr=j((ju,Xr)=>{"use strict";var Qa=tt(),qa=Ct();function Ie(t,e,r){this.main=t,this.fn=e,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}qa(Ie,Qa);Ie.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Ie.prototype.getModifiedState=function(t){return this.fn(t)};Ie.prototype.getModifiedRecommendState=function(t){return this.recommendFn(t)};Xr.exports=Ie});var rt=j((Eu,Zr)=>{"use strict";function ka(t){return typeof t!="string"?t:String(t).replace(/^-/,"\\-")}function Ma(t){return typeof t!="string"?t:t.replace(/^\\-/,"-")}Zr.exports={escapeFacetValue:ka,unescapeFacetValue:Ma}});var it=j((Tu,en)=>{"use strict";function Va(t){return typeof t=="object"&&t!==null?Ut(Array.isArray(t)?[]:{},t):t}function nt(t){return typeof t=="function"||Array.isArray(t)||Object.prototype.toString.call(t)==="[object Object]"}function Ut(t,e){if(t===e)return t;for(var r in e)if(!(!Object.prototype.hasOwnProperty.call(e,r)||r==="__proto__"||r==="constructor")){var n=e[r],i=t[r];typeof i<"u"&&typeof n>"u"||(nt(i)&&nt(n)?t[r]=Ut(i,n):t[r]=Va(n))}return t}function Ba(t){nt(t)||(t={});for(var e=1,r=arguments.length;e<r;e++){var n=arguments[e];nt(n)&&Ut(t,n)}return t}en.exports=Ba});var at=j((Au,tn)=>{"use strict";function za(t){return t&&Object.keys(t).length>0}tn.exports=za});var st=j((Iu,rn)=>{"use strict";function Ka(t,e){if(t===null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}rn.exports=Ka});var Lt=j((Nu,nn)=>{"use strict";function Ne(t){t=t||{},this.params=t.params||[]}Ne.prototype={constructor:Ne,addParams:function(t){var e=this.params.slice();return e.push(t),new Ne({params:e})},removeParams:function(t){return new Ne({params:this.params.filter(function(e){return e.$$id!==t})})},addFrequentlyBoughtTogether:function(t){return this.addParams(Object.assign({},t,{model:"bought-together"}))},addRelatedProducts:function(t){return this.addParams(Object.assign({},t,{model:"related-products"}))},addTrendingItems:function(t){return this.addParams(Object.assign({},t,{model:"trending-items"}))},addTrendingFacets:function(t){return this.addParams(Object.assign({},t,{model:"trending-facets"}))},addLookingSimilar:function(t){return this.addParams(Object.assign({},t,{model:"looking-similar"}))},_buildQueries:function(t,e){return this.params.filter(function(r){return e[r.$$id]===void 0}).map(function(r){var n=Object.assign({},r,{indexName:t,threshold:r.threshold||0});return delete n.$$id,n})}};nn.exports=Ne});var $t=j((Hu,an)=>{"use strict";function Wt(t,e){this._state=t,this._rawResults={};var r=this;t.params.forEach(function(n){var i=n.$$id;r[i]=e[i],r._rawResults[i]=e[i]})}Wt.prototype={constructor:Wt};an.exports=Wt});var on=j((Du,sn)=>{"use strict";var ot=it();function ct(t){return Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{})}var Q={_getQueries:function(e,r){var n=[];return n.push({indexName:e,params:Q._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:e,params:Q._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),c=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(c).length>1){var u=s[0].split(c).slice(0,-1).reduce(function(l,f,h){return l.concat({attribute:a.attributes[h],value:h===0?f:[l[l.length-1].value,f].join(c)})},[]);u.forEach(function(o,l){var f=Q._getDisjunctiveFacetSearchParams(r,o.attribute,l===0);function h(p){return a.attributes.some(function(w){return w===p.split(":")[0]})}var d=(f.facetFilters||[]).reduce(function(p,w){if(Array.isArray(w)){var R=w.filter(function(y){return!h(y)});R.length>0&&p.push(R)}return typeof w=="string"&&!h(w)&&p.push(w),p},[]),m=u[l-1];l>0?f.facetFilters=d.concat(m.attribute+":"+m.value):d.length>0?f.facetFilters=d:delete f.facetFilters,n.push({indexName:e,params:f})})}}),n},_getCompositionQueries:function(e){return[{compositionID:e.index,requestBody:{params:Q._getCompositionHitsSearchParams(e)}}]},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(Q._getHitsHierarchicalFacetsAttributes(t)).sort(),r=Q._getFacetFilters(t),n=Q._getNumericFilters(t),i=Q._getTagFilters(t),a={};return e.length>0&&(a.facets=e.indexOf("*")>-1?["*"]:e),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),ct(ot({},t.getQueryParams(),a))},_getCompositionHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets.map(function(c){return t.disjunctiveFacetsRefinements&&t.disjunctiveFacetsRefinements[c]&&t.disjunctiveFacetsRefinements[c].length>0?"disjunctive("+c+")":c})).concat(Q._getHitsHierarchicalFacetsAttributes(t)).sort(),r=Q._getFacetFilters(t),n=Q._getNumericFilters(t),i=Q._getTagFilters(t),a={};e.length>0&&(a.facets=e.indexOf("*")>-1?["*"]:e),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n);var s=t.getQueryParams();return delete s.highlightPreTag,delete s.highlightPostTag,delete s.index,ct(ot({},s,a))},_getDisjunctiveFacetSearchParams:function(t,e,r){var n=Q._getFacetFilters(t,e,r),i=Q._getNumericFilters(t,e),a=Q._getTagFilters(t),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var c=t.getHierarchicalFacetByName(e);return c?s.facets=Q._getDisjunctiveHierarchicalFacetAttribute(t,c,r):s.facets=e,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),ct(ot({},t.getQueryParams(),s))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var r=[];return Object.keys(t.numericRefinements).forEach(function(n){var i=t.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];e!==n&&s.forEach(function(c){if(Array.isArray(c)){var u=c.map(function(o){return n+a+o});r.push(u)}else r.push(n+a+c)})})}),r},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,r){var n=[],i=t.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var o=i[u]||[];o.slice().sort().forEach(function(l){n.push(u+":"+l)})});var a=t.facetsExcludes||{};Object.keys(a).sort().forEach(function(u){var o=a[u]||[];o.sort().forEach(function(l){n.push(u+":-"+l)})});var s=t.disjunctiveFacetsRefinements||{};Object.keys(s).sort().forEach(function(u){var o=s[u]||[];if(!(u===e||!o||o.length===0)){var l=[];o.slice().sort().forEach(function(f){l.push(u+":"+f)}),n.push(l)}});var c=t.hierarchicalFacetsRefinements||{};return Object.keys(c).sort().forEach(function(u){var o=c[u]||[],l=o[0];if(l!==void 0){var f=t.getHierarchicalFacetByName(u),h=t._getHierarchicalFacetSeparator(f),d=t._getHierarchicalRootPath(f),m,p;if(e===u){if(l.indexOf(h)===-1||!d&&r===!0||d&&d.split(h).length===l.split(h).length)return;d?(p=d.split(h).length-1,l=d):(p=l.split(h).length-2,l=l.slice(0,l.lastIndexOf(h))),m=f.attributes[p]}else p=l.split(h).length-1,m=f.attributes[p];m&&n.push([m+":"+l])}}),n},_getHitsHierarchicalFacetsAttributes:function(t){var e=[];return t.hierarchicalFacets.reduce(function(n,i){var a=t.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=t._getHierarchicalFacetSeparator(i),c=a.split(s).length,u=i.attributes.slice(0,c+1);return n.concat(u)},e)},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,r){var n=t._getHierarchicalFacetSeparator(e);if(r===!0){var i=t._getHierarchicalRootPath(e),a=0;return i&&(a=i.split(n).length),[e.attributes[a]]}var s=t.getHierarchicalRefinement(e.name)[0]||"",c=s.split(n).length-1;return e.attributes.slice(0,c+1)},getSearchForFacetQuery:function(t,e,r,n){var i=n.isDisjunctiveFacet(t)?n.clearRefinements(t):n,a={facetQuery:e,facetName:t};return typeof r=="number"&&(a.maxFacetHits=r),ct(ot({},Q._getHitsSearchParams(i),a))}};sn.exports=Q});var ut=j((Cu,cn)=>{"use strict";cn.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})}});var Pe=j((Uu,un)=>{"use strict";un.exports=function(e,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r(e[n]))return e[n]}}});var fn=j((Lu,ln)=>{"use strict";function Ja(t,e){return t.filter(function(r,n){return e.indexOf(r)>-1&&t.indexOf(r)===n})}ln.exports=Ja});var mn=j((Wu,dn)=>{"use strict";function hn(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(hn);throw new Error("The value should be a number, a parsable string or an array of those.")}dn.exports=hn});var gn=j(($u,pn)=>{"use strict";pn.exports=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)}});var yn=j((Qu,vn)=>{"use strict";var Ga=ut(),Xa=at(),Ya=st(),ge={addRefinement:function(e,r,n){if(ge.isRefined(e,r,n))return e;var i=""+n,a=e[r]?e[r].concat(i):[i],s={};return s[r]=a,Ga(s,e)},removeRefinement:function(e,r,n){if(n===void 0)return ge.clearRefinement(e,function(a,s){return r===s});var i=""+n;return ge.clearRefinement(e,function(a,s){return r===s&&i===a})},toggleRefinement:function(e,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return ge.isRefined(e,r,n)?ge.removeRefinement(e,r,n):ge.addRefinement(e,r,n)},clearRefinement:function(e,r,n){if(r===void 0)return Xa(e)?{}:e;if(typeof r=="string")return Ya(e,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(e).reduce(function(s,c){var u=e[c]||[],o=u.filter(function(l){return!r(l,c,n)});return o.length!==u.length&&(i=!0),s[c]=o,s},{});return i?a:e}},isRefined:function(e,r,n){var i=!!e[r]&&e[r].length>0;if(n===void 0||!i)return i;var a=""+n;return e[r].indexOf(a)!==-1}};vn.exports=ge});var Bt=j((qu,wn)=>{"use strict";var Qt=ut(),Sn=Pe(),bn=fn(),kt=it(),Mt=at(),Rn=st(),qt=mn(),Za=gn(),D=yn();function Vt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(r,n){return Vt(e[n],r)}):t===e}function es(t,e){return Sn(t,function(r){return Vt(r,e)})}function J(t){var e=t?J._parseNumbers(t):{};e.userToken!==void 0&&!Za(e.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var r=this;Object.keys(e).forEach(function(n){var i=J.PARAMETERS.indexOf(n)!==-1,a=e[n]!==void 0;!i&&a&&(r[n]=e[n])})}J.PARAMETERS=Object.keys(new J);J._parseNumbers=function(t){if(t instanceof J)return t;var e={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=t[i];if(typeof a=="string"){var s=parseFloat(a);e[i]=isNaN(s)?a:s}}),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),t.numericRefinements){var n={};Object.keys(t.numericRefinements).forEach(function(i){var a=t.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var c=a[s],u=c.map(function(o){return Array.isArray(o)?o.map(function(l){return typeof l=="string"?parseFloat(l):l}):typeof o=="string"?parseFloat(o):o});n[i][s]=u})}),e.numericRefinements=n}return kt(t,e)};J.make=function(e){var r=new J(e),n=e.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};J.validate=function(t,e){var r=e||{};return t.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&r.numericRefinements&&Mt(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Mt(t.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};J.prototype={constructor:J,clearRefinements:function(e){var r={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:D.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:D.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:D.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:D.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(t,e,r){var n=qt(r);if(this.isNumericRefined(t,e,n))return this;var i=kt({},this.numericRefinements);return i[t]=kt({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(n)):i[t][e]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsRefinements[t]||[]:[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)?this.disjunctiveFacetsRefinements[t]||[]:[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsExcludes[t]||[]:[]},removeNumericRefinement:function(t,e,r){var n=r;return n!==void 0?this.isNumericRefined(t,e,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t&&i.op===e&&Vt(i.val,qt(n))})}):this:e!==void 0?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t&&i.op===e})}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t})}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(e){if(e===void 0)return Mt(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return Rn(this.numericRefinements,[e]);if(typeof e=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var c=n[s],u={};return c=c||{},Object.keys(c).forEach(function(o){var l=c[o]||[],f=[];l.forEach(function(h){var d=e({val:h,op:o},s,"numeric");d||f.push(h)}),f.length!==l.length&&(r=!0),u[o]=f}),a[s]=u,a},{});return r?i:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return D.isRefined(this.facetsRefinements,e,r)?this:this.setQueryParameters({facetsRefinements:D.addRefinement(this.facetsRefinements,e,r)})},addExcludeRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return D.isRefined(this.facetsExcludes,e,r)?this:this.setQueryParameters({facetsExcludes:D.addRefinement(this.facetsExcludes,e,r)})},addDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return D.isRefined(this.disjunctiveFacetsRefinements,e,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:D.addRefinement(this.disjunctiveFacetsRefinements,e,r)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var r={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(r)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(r){return r!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==e})}):this},removeFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return D.isRefined(this.facetsRefinements,e,r)?this.setQueryParameters({facetsRefinements:D.removeRefinement(this.facetsRefinements,e,r)}):this},removeExcludeRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return D.isRefined(this.facetsExcludes,e,r)?this.setQueryParameters({facetsExcludes:D.removeRefinement(this.facetsExcludes,e,r)}):this},removeDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return D.isRefined(this.disjunctiveFacetsRefinements,e,r)?this.setQueryParameters({disjunctiveFacetsRefinements:D.removeRefinement(this.disjunctiveFacetsRefinements,e,r)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==e})};return this.setQueryParameters(r)},toggleRefinement:function(e,r){return this.toggleFacetRefinement(e,r)},toggleFacetRefinement:function(e,r){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,r);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,r);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,r);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:D.toggleRefinement(this.facetsRefinements,e,r)})},toggleExcludeFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:D.toggleRefinement(this.facetsExcludes,e,r)})},toggleDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:D.toggleRefinement(this.disjunctiveFacetsRefinements,e,r)})},toggleHierarchicalFacetRefinement:function(e,r){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={},a=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===r||this.hierarchicalFacetsRefinements[e][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[e]=[]:i[e]=[r.slice(0,r.lastIndexOf(n))]:i[e]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:Qt(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:Qt(r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Qt(e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return this.getHierarchicalFacetByName(t)!==void 0},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(e,r){return this.isConjunctiveFacet(e)?D.isRefined(this.facetsRefinements,e,r):!1},isExcludeRefined:function(e,r){return this.isConjunctiveFacet(e)?D.isRefined(this.facetsExcludes,e,r):!1},isDisjunctiveFacetRefined:function(e,r){return this.isDisjunctiveFacet(e)?D.isRefined(this.disjunctiveFacetsRefinements,e,r):!1},isHierarchicalFacetRefined:function(e,r){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(e,r,n){if(n===void 0&&r===void 0)return!!this.numericRefinements[e];var i=this.numericRefinements[e]&&this.numericRefinements[e][r]!==void 0;if(n===void 0||!i)return i;var a=qt(n),s=es(this.numericRefinements[e][r],a)!==void 0;return i&&s},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,r=bn(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(e.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return e.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return bn(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return e.hierarchicalFacetsRefinements[r].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return t.indexOf(e)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];e.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(e,r){if(this[e]===r)return this;var n={};return n[e]=r,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var r=J.validate(this,e);if(r)throw r;var n=this,i=J._parseNumbers(e),a=Object.keys(this).reduce(function(c,u){return c[u]=n[u],c},{}),s=Object.keys(i).reduce(function(c,u){var o=c[u]!==void 0,l=i[u]!==void 0;return o&&!l?Rn(c,[u]):(l&&(c[u]=i[u]),c)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return typeof t.showParentLevel=="boolean"?t.showParentLevel:!0},getHierarchicalFacetByName:function(t){return Sn(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),n=e.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};wn.exports=J});var Pn=j((ku,_n)=>{"use strict";_n.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}});var On=j((Mu,xn)=>{"use strict";xn.exports=function(e,r){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1}});var zt=j((Vu,Fn)=>{"use strict";var ts=Pe();Fn.exports=function(e,r){var n=(r||[]).map(function(i){return i.split(":")});return e.reduce(function(a,s){var c=s.split(":"),u=ts(n,function(o){return o[0]===c[0]});return c.length>1||!u?(a[0].push(c[0]),a[1].push(c[1]),a):(a[0].push(u[0]),a[1].push(u[1]),a)},[[],[]])}});var En=j((Bu,jn)=>{"use strict";function rs(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(e,r){return Object.keys(Object(r)).forEach(function(n){var i=typeof e[n]=="number"?e[n]:0,a=r[n];a!==void 0&&a>=i&&(e[n]!==void 0&&delete e[n],e[n]=a)}),e},{})}jn.exports=rs});var Kt=j((zu,Tn)=>{"use strict";function ns(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=e!==void 0,a=e===null;if(!a&&t>e||n&&i||!r)return 1;if(!n&&t<e||a&&r||!i)return-1}return 0}function is(t,e,r){if(!Array.isArray(t))return[];Array.isArray(r)||(r=[]);var n=t.map(function(i,a){return{criteria:e.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var c=-1;++c<a.criteria.length;){var u=ns(a.criteria[c],s.criteria[c]);if(u)return c>=r.length?u:r[c]==="desc"?-u:u}return a.index-s.index}),n.map(function(i){return i.value})}Tn.exports=is});var Nn=j((Ku,In)=>{"use strict";In.exports=ls;var An=rt(),as=Pe(),ss=zt(),os=Kt(),cs=An.escapeFacetValue,us=An.unescapeFacetValue;function ls(t){return function(r,n){var i=t.hierarchicalFacets[n],a=t.hierarchicalFacetsRefinements[i.name]&&t.hierarchicalFacetsRefinements[i.name][0]||"",s=t._getHierarchicalFacetSeparator(i),c=t._getHierarchicalRootPath(i),u=t._getHierarchicalShowParentLevel(i),o=ss(t._getHierarchicalFacetSortBy(i)),l=r.every(function(d){return d.exhaustive}),f=fs(o,s,c,u,a),h=r;return c&&(h=r.slice(c.split(s).length)),h.reduce(f,{name:t.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:l,data:null})}}function fs(t,e,r,n,i){return function(s,c,u){var o=s;if(u>0){var l=0;for(o=s;l<u;){var f=o&&Array.isArray(o.data)?o.data:[];o=as(f,function(d){return d.isRefined}),l++}}if(o){var h=Object.keys(c.data).map(function(d){return[d,c.data[d]]}).filter(function(d){var m=d[0];return hs(m,o.path||r,i,e,r,n)});o.data=os(h.map(function(d){var m=d[0],p=d[1];return ds(p,m,e,us(i),c.exhaustive)}),t[0],t[1])}return s}}function hs(t,e,r,n,i,a){return i&&(t.indexOf(i)!==0||i===t)?!1:!i&&t.indexOf(n)===-1||i&&t.split(n).length-i.split(n).length===1||t.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(t)===0||t.indexOf(e+n)===0&&(a||t.indexOf(r)===0)}function ds(t,e,r,n,i){var a=e.split(r);return{name:a[a.length-1].trim(),path:e,escapedValue:cs(e),count:t,isRefined:n===e||n.indexOf(e+r)===0,exhaustive:i,data:null}}});var Yt=j((Ju,kn)=>{"use strict";var Jt=Pn(),De=ut(),Ln=rt(),G=Pe(),He=On(),ms=zt(),Hn=En(),Wn=Kt(),Dn=Ln.escapeFacetValue,$n=Ln.unescapeFacetValue,ps=Nn();function Cn(t){var e={};return t.forEach(function(r,n){e[r]=n}),e}function Gt(t,e,r){e&&e[r]&&(t.stats=e[r])}function gs(t,e){return G(t,function(n){var i=n.attributes||[];return i.indexOf(e)>-1})}function le(t,e,r){var n=e[0]||{};this._rawResults=e;var i=this;Object.keys(n).forEach(function(f){i[f]=n[f]});var a=De(r,{persistHierarchicalRootCount:!1});Object.keys(a).forEach(function(f){i[f]=a[f]}),this.processingTimeMS=e.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map(function(){return[]}),this.facets=[];var s=t.getRefinedDisjunctiveFacets(),c=Cn(t.facets),u=Cn(t.disjunctiveFacets),o=1,l=n.facets||{};Object.keys(l).forEach(function(f){var h=l[f],d=gs(t.hierarchicalFacets,f);if(d){var m=d.attributes.indexOf(f),p=He(t.hierarchicalFacets,function(g){return g.name===d.name});i.hierarchicalFacets[p][m]={attribute:f,data:h,exhaustive:n.exhaustiveFacetsCount}}else{var w=t.disjunctiveFacets.indexOf(f)!==-1,R=t.facets.indexOf(f)!==-1,y;w&&(y=u[f],i.disjunctiveFacets[y]={name:f,data:h,exhaustive:n.exhaustiveFacetsCount},Gt(i.disjunctiveFacets[y],n.facets_stats,f)),R&&(y=c[f],i.facets[y]={name:f,data:h,exhaustive:n.exhaustiveFacetsCount},Gt(i.facets[y],n.facets_stats,f))}}),this.hierarchicalFacets=Jt(this.hierarchicalFacets),s.forEach(function(f){var h=e[o],d=h&&h.facets?h.facets:{},m=t.getHierarchicalFacetByName(f);Object.keys(d).forEach(function(p){var w=d[p],R;if(m){R=He(t.hierarchicalFacets,function(b){return b.name===m.name});var y=He(i.hierarchicalFacets[R],function(b){return b.attribute===p});if(y===-1)return;i.hierarchicalFacets[R][y].data=i.persistHierarchicalRootCount?Hn(i.hierarchicalFacets[R][y].data,w):De(w,i.hierarchicalFacets[R][y].data)}else{R=u[p];var g=n.facets&&n.facets[p]||{};i.disjunctiveFacets[R]={name:p,data:Hn(g,w),exhaustive:h.exhaustiveFacetsCount},Gt(i.disjunctiveFacets[R],h.facets_stats,p),t.disjunctiveFacetsRefinements[p]&&t.disjunctiveFacetsRefinements[p].forEach(function(b){!i.disjunctiveFacets[R].data[b]&&t.disjunctiveFacetsRefinements[p].indexOf($n(b))>-1&&(i.disjunctiveFacets[R].data[b]=0)})}}),o++}),t.getRefinedHierarchicalFacets().forEach(function(f){var h=t.getHierarchicalFacetByName(f),d=t._getHierarchicalFacetSeparator(h),m=t.getHierarchicalRefinement(f);m.length===0||m[0].split(d).length<2||e.slice(o).forEach(function(p){var w=p&&p.facets?p.facets:{};Object.keys(w).forEach(function(R){var y=w[R],g=He(t.hierarchicalFacets,function(P){return P.name===h.name}),b=He(i.hierarchicalFacets[g],function(P){return P.attribute===R});if(b!==-1){var S={};if(m.length>0&&!i.persistHierarchicalRootCount){var _=m[0].split(d)[0];S[_]=i.hierarchicalFacets[g][b].data[_]}i.hierarchicalFacets[g][b].data=De(S,y,i.hierarchicalFacets[g][b].data)}}),o++})}),Object.keys(t.facetsExcludes).forEach(function(f){var h=t.facetsExcludes[f],d=c[f];i.facets[d]={name:f,data:l[f],exhaustive:n.exhaustiveFacetsCount},h.forEach(function(m){i.facets[d]=i.facets[d]||{name:f},i.facets[d].data=i.facets[d].data||{},i.facets[d].data[m]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(ps(t)),this.facets=Jt(this.facets),this.disjunctiveFacets=Jt(this.disjunctiveFacets),this._state=t}le.prototype.getFacetByName=function(t){function e(r){return r.name===t}return G(this.facets,e)||G(this.disjunctiveFacets,e)||G(this.hierarchicalFacets,e)};function vs(t,e){function r(l){return l.name===e}if(t._state.isConjunctiveFacet(e)){var n=G(t.facets,r);return n?Object.keys(n.data).map(function(l){var f=Dn(l);return{name:l,escapedValue:f,count:n.data[l],isRefined:t._state.isFacetRefined(e,f),isExcluded:t._state.isExcludeRefined(e,l)}}):[]}else if(t._state.isDisjunctiveFacet(e)){var i=G(t.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(l){var f=Dn(l);return{name:l,escapedValue:f,count:i.data[l],isRefined:t._state.isDisjunctiveFacetRefined(e,f)}}):[]}else if(t._state.isHierarchicalFacet(e)){var a=G(t.hierarchicalFacets,r);if(!a)return a;var s=t._state.getHierarchicalFacetByName(e),c=t._state._getHierarchicalFacetSeparator(s),u=$n(t._state.getHierarchicalRefinement(e)[0]||"");u.indexOf(s.rootPath)===0&&(u=u.replace(s.rootPath+c,""));var o=u.split(c);return o.unshift(e),Qn(a,o,0),a}}function Qn(t,e,r){t.isRefined=t.name===(e[r]&&e[r].trim()),t.data&&t.data.forEach(function(n){Qn(n,e,r+1)})}function qn(t,e,r,n){if(n=n||0,Array.isArray(e))return t(e,r[n]);if(!e.data||e.data.length===0)return e;var i=e.data.map(function(c){return qn(t,c,r,n+1)}),a=t(i,r[n]),s=De({data:a},e);return s}le.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function ys(t,e){return e.sort(t)}function bs(t,e){var r=[],n=[],i=e.hide||[],a=e.order||[],s=a.reduce(function(o,l,f){return o[l]=f,o},{});t.forEach(function(o){var l=o.path||o.name,f=i.indexOf(l)>-1;!f&&s[l]!==void 0?r[s[l]]=o:f||n.push(o)}),r=r.filter(function(o){return o});var c=e.sortRemainingBy,u;return c==="hidden"?r:(c==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],r.concat(Wn(n,u[0],u[1])))}function Rs(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}le.prototype.getFacetValues=function(t,e){var r=vs(this,t);if(r){var n=De(e,{sortBy:le.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),i=this,a;if(Array.isArray(r))a=[t];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return qn(function(c,u){if(n.facetOrdering){var o=Rs(i,u);if(o)return bs(c,o)}if(Array.isArray(n.sortBy)){var l=ms(n.sortBy,le.DEFAULT_SORT);return Wn(c,l[0],l[1])}else if(typeof n.sortBy=="function")return ys(n.sortBy,c);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};le.prototype.getFacetStats=function(t){if(this._state.isConjunctiveFacet(t))return Un(this.facets,t);if(this._state.isDisjunctiveFacet(t))return Un(this.disjunctiveFacets,t)};function Un(t,e){var r=G(t,function(n){return n.name===e});return r&&r.stats}le.prototype.getRefinements=function(){var t=this._state,e=this,r=[];return Object.keys(t.facetsRefinements).forEach(function(n){t.facetsRefinements[n].forEach(function(i){r.push(Xt(t,"facet",n,i,e.facets))})}),Object.keys(t.facetsExcludes).forEach(function(n){t.facetsExcludes[n].forEach(function(i){r.push(Xt(t,"exclude",n,i,e.facets))})}),Object.keys(t.disjunctiveFacetsRefinements).forEach(function(n){t.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(Xt(t,"disjunctive",n,i,e.disjunctiveFacets))})}),Object.keys(t.hierarchicalFacetsRefinements).forEach(function(n){t.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(Ss(t,n,i,e.hierarchicalFacets))})}),Object.keys(t.numericRefinements).forEach(function(n){var i=t.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),t.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function Xt(t,e,r,n,i){var a=G(i,function(u){return u.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,c=a&&a.exhaustive||!1;return{type:e,attributeName:r,name:n,count:s,exhaustive:c}}function Ss(t,e,r,n){var i=t.getHierarchicalFacetByName(e),a=t._getHierarchicalFacetSeparator(i),s=r.split(a),c=G(n,function(h){return h.name===e}),u=s.reduce(function(h,d){var m=h&&G(h.data,function(p){return p.name===d});return m!==void 0?m:h},c),o=u&&u.count||0,l=u&&u.exhaustive||!1,f=u&&u.path||"";return{type:"hierarchical",attributeName:e,name:f,count:o,exhaustive:l}}kn.exports=le});var Vn=j((Gu,Mn)=>{"use strict";Mn.exports=function(e){return e.reduce(function(r,n){return r.concat(n)},[])}});var zn=j((Xu,Bn)=>{"use strict";var ws=Pe(),_s=Vn();function Ps(t,e){var r=[];return Object.keys(t).forEach(function(n){t[n].count<2&&(t[n].indexSum+=100),r.push({objectID:n,avgOfIndices:t[n].indexSum/e})}),r.sort(function(n,i){return n.avgOfIndices>i.avgOfIndices?1:-1})}function xs(t,e){var r={};e.forEach(function(a){a.forEach(function(s,c){t.includes(s.objectID)||(r[s.objectID]?r[s.objectID]={indexSum:r[s.objectID].indexSum+c,count:r[s.objectID].count+1}:r[s.objectID]={indexSum:c,count:1})})});var n=Ps(r,e.length),i=n.reduce(function(a,s){var c=ws(_s(e),function(u){return u.objectID===s.objectID});return c?a.concat(c):a},[]);return i}Bn.exports=xs});var Zt=j((Yu,Kn)=>{"use strict";Kn.exports="3.26.0"});var ti=j((Zu,ei)=>{"use strict";var Os=tt(),Fs=Yr(),Jn=rt().escapeFacetValue,js=Ct(),Es=it(),Ts=at(),As=st(),Gn=Lt(),Is=$t(),fe=on(),tr=Bt(),er=Yt(),Ns=zn(),Xn=Zt();function v(t,e,r,n){typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+Xn+")"),this.setClient(t);var i=r||{};i.index=e,this.state=tr.make(i),this.recommendState=new Gn({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}js(v,Os);v.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};v.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};v.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};v.prototype.recommend=function(){return this._recommend(),this};v.prototype.getQuery=function(){var t=this.state;return fe._getHitsSearchParams(t)};v.prototype.searchOnce=function(t,e){var r=t?this.state.setQueryParameters(t):this.state,n=fe._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),e){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(null,new er(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new er(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};v.prototype.findAnswers=function(t){console.warn("[algoliasearch-helper] answers is no longer supported");var e=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(e),i=Es({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:As(fe._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,t.queryLanguages,i)};v.prototype.searchForFacetValues=function(t,e,r,n){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),c=s.isDisjunctiveFacet(t),u=fe.getSearchForFacetQuery(t,e,r,s);this._currentNbQueries++;var o=this,l;i?l=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?l=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,l=this.client.search([{type:"facet",facet:t,indexName:s.index,params:u}]).then(function(d){return d.results[0]})),this.emit("searchForFacetValues",{state:s,facet:t,query:e});var f=this.lastResults&&this.lastResults.index===s.index&&this.lastResults.renderingContent&&this.lastResults.renderingContent.facetOrdering&&this.lastResults.renderingContent.facetOrdering.values&&this.lastResults.renderingContent.facetOrdering.values[t]&&this.lastResults.renderingContent.facetOrdering.values[t].hide||[];return l.then(function(d){return o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),d=Array.isArray(d)?d[0]:d,d.facetHits.forEach(function(m,p){if(f.indexOf(m.value)>-1){d.facetHits.splice(p,1);return}m.escapedValue=Jn(m.value),m.isRefined=c?s.isDisjunctiveFacetRefined(t,m.escapedValue):s.isFacetRefined(t,m.escapedValue)}),d},function(h){throw o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),h})};v.prototype.searchForCompositionFacetValues=function(t,e,r,n){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(t);this._currentNbQueries++;var s=this,c;return c=this.client.searchForFacetValues({compositionID:i.index,facetName:t,searchForFacetValuesRequest:{params:{query:e,maxFacetHits:r,searchQuery:fe._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:t,query:e}),c.then(function(o){return s._currentNbQueries--,s._currentNbQueries===0&&s.emit("searchQueueEmpty"),o=o.results[0],o.facetHits.forEach(function(l){l.escapedValue=Jn(l.value),l.isRefined=a?i.isDisjunctiveFacetRefined(t,l.escapedValue):i.isFacetRefined(t,l.escapedValue)}),o},function(u){throw s._currentNbQueries--,s._currentNbQueries===0&&s.emit("searchQueueEmpty"),u})};v.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this};v.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this};v.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};v.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};v.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.addNumericRefinement=function(t,e,r){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,r),isPageReset:!0}),this};v.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};v.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this};v.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};v.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this};v.prototype.addFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(t)}),this};v.prototype.addRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.addRelatedProducts(t)}),this};v.prototype.addTrendingItems=function(t){return this._recommendChange({state:this.recommendState.addTrendingItems(t)}),this};v.prototype.addTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.addTrendingFacets(t)}),this};v.prototype.addLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.addLookingSimilar(t)}),this};v.prototype.removeNumericRefinement=function(t,e,r){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,r),isPageReset:!0}),this};v.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};v.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this};v.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};v.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this};v.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};v.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this};v.prototype.removeFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeTrendingItems=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};v.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)};v.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};v.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this};v.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)};v.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)};function Yn(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}v.prototype.setCurrentPage=Yn;v.prototype.setPage=Yn;v.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this};v.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this};v.prototype.setState=function(t){return this._change({state:tr.make(t),isPageReset:!1}),this};v.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new tr(t),this};v.prototype.hasRefinements=function(t){return Ts(this.state.getNumericRefinements(t))?!0:this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):this.state.isHierarchicalFacet(t)?this.state.isHierarchicalFacetRefined(t):!1};v.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)};v.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)};v.prototype.hasTag=function(t){return this.state.isTagRefined(t)};v.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};v.prototype.getIndex=function(){return this.state.index};function Zn(){return this.state.page}v.prototype.getCurrentPage=Zn;v.prototype.getPage=Zn;v.prototype.getTags=function(){return this.state.tagRefinements};v.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t)){var r=this.state.getConjunctiveRefinements(t);r.forEach(function(s){e.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(t);n.forEach(function(s){e.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(t)){var i=this.state.getDisjunctiveRefinements(t);i.forEach(function(s){e.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(t);return Object.keys(a).forEach(function(s){var c=a[s];e.push({value:c,operator:s,type:"numeric"})}),e};v.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)};v.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)};v.prototype._search=function(t){var e=this.state,r=[],n=[];t.onlyWithDerivedHelpers||(n=fe._getQueries(e.index,e),r.push({state:e,queriesCount:n.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map(function(c){var u=c.getModifiedState(e),o=u.index?fe._getQueries(u.index,u):[];return r.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;if(this._currentNbQueries++,!a.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,s));try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(c){this.emit("error",{error:c})}};v.prototype._runComposition=function(){var t=this.state,e=[],r=[],n=this.derivedHelpers.map(function(c){var u=c.getModifiedState(t),o=fe._getCompositionQueries(u);return e.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),i=Array.prototype.concat.apply(r,n),a=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,e,a));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var s=i[0];try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,e,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(c){this.emit("error",{error:c})}};v.prototype._recommend=function(){var t=this.state,e=this.recommendState,r=this.getIndex(),n=[{state:e,index:r,helper:this}],i=e.params.map(function(o){return o.$$id});this.emit("fetch",{recommend:{state:e,results:this.lastRecommendResults}});var a=this._recommendCache,s=this.derivedHelpers.map(function(o){var l=o.getModifiedState(t).index;if(!l)return[];var f=o.getModifiedRecommendState(new Gn);return n.push({state:f,index:l,helper:o}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),o.emit("fetch",{recommend:{state:f,results:o.lastRecommendResults}}),f._buildQueries(l,a)}),c=Array.prototype.concat.apply(this.recommendState._buildQueries(r,a),s);if(c.length!==0){if(c.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var u=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(c).then(this._dispatchRecommendResponse.bind(this,u,n,i)).catch(this._dispatchRecommendError.bind(this,u))}catch(o){this.emit("error",{error:o})}}};v.prototype._dispatchAlgoliaResponse=function(t,e,r){var n=this;if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=r.results.slice(),a=Object.keys(r).reduce(function(s,c){return c!=="results"&&(s[c]=r[c]),s},{});Object.keys(a).length<=0&&(a=void 0),t.forEach(function(s){var c=s.state,u=s.queriesCount,o=s.helper,l=i.splice(0,u);if(!c.index){o.emit("result",{results:null,state:c});return}o.lastResults=new er(c,l,n._searchResultsOptions),a!==void 0&&(o.lastResults._rawContent=a),o.emit("result",{results:o.lastResults,state:c})})}};v.prototype._dispatchRecommendResponse=function(t,e,r,n){if(!(t<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,a={};r.filter(function(c){return i[c]===void 0}).forEach(function(c,u){a[c]||(a[c]=[]),a[c].push(u)}),Object.keys(a).forEach(function(c){var u=a[c],o=n.results[u[0]];if(u.length===1){i[c]=o;return}i[c]=Object.assign({},o,{hits:Ns(r,u.map(function(l){return n.results[l].hits}))})});var s={};r.forEach(function(c){s[c]=i[c]}),e.forEach(function(c){var u=c.state,o=c.helper;if(!c.index){o.emit("recommend:result",{results:null,state:u});return}o.lastRecommendResults=new Is(u,s),o.emit("recommend:result",{recommend:{results:o.lastRecommendResults,state:u}})})}};v.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};v.prototype._dispatchRecommendError=function(t,e){t<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};v.prototype.containsRefinement=function(t,e,r,n){return t||e.length!==0||r.length!==0||n.length!==0};v.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0};v.prototype._change=function(t){var e=t.state,r=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};v.prototype._recommendChange=function(t){var e=t.state;e!==this.recommendState&&(this.recommendState=e,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};v.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};v.prototype.setClient=function(t){return this.client===t?this:(typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+Xn+")"),this.client=t,this)};v.prototype.getClient=function(){return this.client};v.prototype.derive=function(t,e){var r=new Fs(this,t,e);return this.derivedHelpers.push(r),r};v.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(e===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)};v.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};ei.exports=v});var rr=j((el,ni)=>{"use strict";var ri=ti(),Hs=Lt(),Ds=$t(),Cs=Bt(),Us=Yt();function ve(t,e,r,n){return new ri(t,e,r,n)}ve.version=Zt();ve.AlgoliaSearchHelper=ri;ve.SearchParameters=Cs;ve.RecommendParameters=Hs;ve.SearchResults=Us;ve.RecommendResults=Ds;ni.exports=ve});var _t=j((Of,Li)=>{"use strict";var Xo=String.prototype.replace,Yo=/%20/g,pr={RFC1738:"RFC1738",RFC3986:"RFC3986"};Li.exports={default:pr.RFC3986,formatters:{RFC1738:function(t){return Xo.call(t,Yo,"+")},RFC3986:function(t){return String(t)}},RFC1738:pr.RFC1738,RFC3986:pr.RFC3986}});var vr=j((Ff,$i)=>{"use strict";var Zo=_t(),gr=Object.prototype.hasOwnProperty,Re=Array.isArray,re=(function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),ec=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Re(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Wi=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},tc=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Re(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!gr.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Re(e)&&!Re(r)&&(i=Wi(e,n)),Re(e)&&Re(r)?(r.forEach(function(a,s){if(gr.call(e,s)){var c=e[s];c&&typeof c=="object"&&a&&typeof a=="object"?e[s]=t(c,a,n):e.push(a)}else e[s]=a}),e):Object.keys(r).reduce(function(a,s){var c=r[s];return gr.call(a,s)?a[s]=t(a[s],c,n):a[s]=c,a},i)},rc=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},nc=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},ic=function(e,r,n,i,a){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var c="",u=0;u<s.length;++u){var o=s.charCodeAt(u);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===Zo.RFC1738&&(o===40||o===41)){c+=s.charAt(u);continue}if(o<128){c=c+re[o];continue}if(o<2048){c=c+(re[192|o>>6]+re[128|o&63]);continue}if(o<55296||o>=57344){c=c+(re[224|o>>12]+re[128|o>>6&63]+re[128|o&63]);continue}u+=1,o=65536+((o&1023)<<10|s.charCodeAt(u)&1023),c+=re[240|o>>18]+re[128|o>>12&63]+re[128|o>>6&63]+re[128|o&63]}return c},ac=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],c=Object.keys(s),u=0;u<c.length;++u){var o=c[u],l=s[o];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:o}),n.push(l))}return ec(r),e},sc=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},oc=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},cc=function(e,r){return[].concat(e,r)},uc=function(e,r){if(Re(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};$i.exports={arrayToObject:Wi,assign:rc,combine:cc,compact:ac,decode:nc,encode:ic,isBuffer:oc,isRegExp:sc,maybeMap:uc,merge:tc}});var Vi=j((jf,Mi)=>{"use strict";var yr=vr(),ke=_t(),lc=Object.prototype.hasOwnProperty,Qi={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Se=Array.isArray,fc=String.prototype.split,hc=Array.prototype.push,ki=function(t,e){hc.apply(t,Se(e)?e:[e])},dc=Date.prototype.toISOString,qi=ke.default,k={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:yr.encode,encodeValuesOnly:!1,format:qi,formatter:ke.formatters[qi],indices:!1,serializeDate:function(e){return dc.call(e)},skipNulls:!1,strictNullHandling:!1},mc=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},pc=function t(e,r,n,i,a,s,c,u,o,l,f,h,d,m){var p=e;if(typeof c=="function"?p=c(r,p):p instanceof Date?p=l(p):n==="comma"&&Se(p)&&(p=yr.maybeMap(p,function(A){return A instanceof Date?l(A):A})),p===null){if(i)return s&&!d?s(r,k.encoder,m,"key",f):r;p=""}if(mc(p)||yr.isBuffer(p)){if(s){var w=d?r:s(r,k.encoder,m,"key",f);if(n==="comma"&&d){for(var R=fc.call(String(p),","),y="",g=0;g<R.length;++g)y+=(g===0?"":",")+h(s(R[g],k.encoder,m,"value",f));return[h(w)+"="+y]}return[h(w)+"="+h(s(p,k.encoder,m,"value",f))]}return[h(r)+"="+h(String(p))]}var b=[];if(typeof p>"u")return b;var S;if(n==="comma"&&Se(p))S=[{value:p.length>0?p.join(",")||null:void 0}];else if(Se(c))S=c;else{var _=Object.keys(p);S=u?_.sort(u):_}for(var P=0;P<S.length;++P){var O=S[P],x=typeof O=="object"&&typeof O.value<"u"?O.value:p[O];if(!(a&&x===null)){var F=Se(p)?typeof n=="function"?n(r,O):r:r+(o?"."+O:"["+O+"]");ki(b,t(x,F,n,i,a,s,c,u,o,l,f,h,d,m))}}return b},gc=function(e){if(!e)return k;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||k.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ke.default;if(typeof e.format<"u"){if(!lc.call(ke.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ke.formatters[n],a=k.filter;return(typeof e.filter=="function"||Se(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:k.addQueryPrefix,allowDots:typeof e.allowDots>"u"?k.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:k.charsetSentinel,delimiter:typeof e.delimiter>"u"?k.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:k.encode,encoder:typeof e.encoder=="function"?e.encoder:k.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:k.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:k.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:k.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:k.strictNullHandling}};Mi.exports=function(t,e){var r=t,n=gc(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Se(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var c;e&&e.arrayFormat in Qi?c=e.arrayFormat:e&&"indices"in e?c=e.indices?"indices":"repeat":c="indices";var u=Qi[c];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var o=0;o<i.length;++o){var l=i[o];n.skipNulls&&r[l]===null||ki(s,pc(r[l],l,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var f=s.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""}});var Ki=j((Ef,zi)=>{"use strict";var Oe=vr(),br=Object.prototype.hasOwnProperty,vc=Array.isArray,M={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Oe.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},yc=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Bi=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},bc="utf8=%26%2310003%3B",Rc="utf8=%E2%9C%93",Sc=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),c=-1,u,o=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===Rc?o="utf-8":s[u]===bc&&(o="iso-8859-1"),c=u,u=s.length);for(u=0;u<s.length;++u)if(u!==c){var l=s[u],f=l.indexOf("]="),h=f===-1?l.indexOf("="):f+1,d,m;h===-1?(d=r.decoder(l,M.decoder,o,"key"),m=r.strictNullHandling?null:""):(d=r.decoder(l.slice(0,h),M.decoder,o,"key"),m=Oe.maybeMap(Bi(l.slice(h+1),r),function(p){return r.decoder(p,M.decoder,o,"value")})),m&&r.interpretNumericEntities&&o==="iso-8859-1"&&(m=yc(m)),l.indexOf("[]=")>-1&&(m=vc(m)?[m]:m),br.call(n,d)?n[d]=Oe.combine(n[d],m):n[d]=m}return n},wc=function(t,e,r,n){for(var i=n?e:Bi(e,r),a=t.length-1;a>=0;--a){var s,c=t[a];if(c==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,o=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(o)&&c!==u&&String(o)===u&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(s=[],s[o]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},_c=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(a),o=u?a.slice(0,u.index):a,l=[];if(o){if(!n.plainObjects&&br.call(Object.prototype,o)&&!n.allowPrototypes)return;l.push(o)}for(var f=0;n.depth>0&&(u=c.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&br.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+a.slice(u.index)+"]"),wc(l,r,n,i)}},Pc=function(e){if(!e)return M;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?M.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?M.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:M.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:M.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:M.comma,decoder:typeof e.decoder=="function"?e.decoder:M.decoder,delimiter:typeof e.delimiter=="string"||Oe.isRegExp(e.delimiter)?e.delimiter:M.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:M.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:M.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:M.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:M.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling}};zi.exports=function(t,e){var r=Pc(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Sc(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var c=a[s],u=_c(c,n[c],r,typeof t=="string");i=Oe.merge(i,u,r)}return Oe.compact(i)}});var Gi=j((Tf,Ji)=>{"use strict";var xc=Vi(),Oc=Ki(),Fc=_t();Ji.exports={formats:Fc,parse:Oc,stringify:xc}});function lu(t){let e=t.match(/\/([^/]+?)-\d+x\d+\.[a-z]{3,4}$/i);return e?e[1]:null}function Hr(){function t(e){return new Promise(r=>{let n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(c=>n.setRequestHeader(c,e.headers[c]));let i=(c,u)=>setTimeout(()=>{n.abort(),r({status:0,content:u,isTimedOut:!0})},c),a=i(e.connectTimeout,"Connection timeout"),s;n.onreadystatechange=()=>{n.readyState>n.OPENED&&s===void 0&&(clearTimeout(a),s=i(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{n.status===0&&(clearTimeout(a),clearTimeout(s),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(a),clearTimeout(s),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}return{send:t}}function Ur(t){let e,r=`algolia-client-js-${t.key}`;function n(){return e===void 0&&(e=t.localStorage||window.localStorage),e}function i(){return JSON.parse(n().getItem(r)||"{}")}function a(c){n().setItem(r,JSON.stringify(c))}function s(){let c=t.timeToLive?t.timeToLive*1e3:null,u=i(),o=Object.fromEntries(Object.entries(u).filter(([,f])=>f.timestamp!==void 0));if(a(o),!c)return;let l=Object.fromEntries(Object.entries(o).filter(([,f])=>{let h=new Date().getTime();return!(f.timestamp+c<h)}));a(l)}return{get(c,u,o={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(s(),i()[JSON.stringify(c)])).then(l=>Promise.all([l?l.value:u(),l!==void 0])).then(([l,f])=>Promise.all([l,f||o.miss(l)])).then(([l])=>l)},set(c,u){return Promise.resolve().then(()=>{let o=i();return o[JSON.stringify(c)]={timestamp:new Date().getTime(),value:u},n().setItem(r,JSON.stringify(o)),u})},delete(c){return Promise.resolve().then(()=>{let u=i();delete u[JSON.stringify(c)],n().setItem(r,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{n().removeItem(r)})}}}function wa(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(i=>Promise.all([i,r.miss(i)])).then(([i])=>i)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}function _e(t){let e=[...t.caches],r=e.shift();return r===void 0?wa():{get(n,i,a={miss:()=>Promise.resolve()}){return r.get(n,i,a).catch(()=>_e({caches:e}).get(n,i,a))},set(n,i){return r.set(n,i).catch(()=>_e({caches:e}).set(n,i))},delete(n){return r.delete(n).catch(()=>_e({caches:e}).delete(n))},clear(){return r.clear().catch(()=>_e({caches:e}).clear())}}}function et(t={serializable:!0}){let e={};return{get(r,n,i={miss:()=>Promise.resolve()}){let a=JSON.stringify(r);if(a in e)return Promise.resolve(t.serializable?JSON.parse(e[a]):e[a]);let s=n();return s.then(c=>i.miss(c)).then(()=>s)},set(r,n){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}function _a(t){let e={value:`Algolia for JavaScript (${t})`,add(r){let n=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return e.value.indexOf(n)===-1&&(e.value=`${e.value}${n}`),e}};return e}function Lr(t,e,r="WithinHeaders"){let n={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return r==="WithinHeaders"?n:{}},queryParameters(){return r==="WithinQueryParameters"?n:{}}}}function Wr({algoliaAgents:t,client:e,version:r}){let n=_a(r).add({segment:e,version:r});return t.forEach(i=>n.add(i)),n}function $r(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var Dr=120*1e3;function Cr(t,e="up"){let r=Date.now();function n(){return e==="up"||Date.now()-r>Dr}function i(){return e==="timed out"&&Date.now()-r<=Dr}return ue(I({},t),{status:e,lastUpdate:r,isUp:n,isTimedOut:i})}var Qr=class extends Error{name="AlgoliaError";constructor(t,e){super(t),e&&(this.name=e)}};var qr=class extends Qr{stackTrace;constructor(t,e,r){super(t,r),this.stackTrace=e}},Pa=class extends qr{constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please visit our help center https://alg.li/support-unreachable-hosts or reach out to the Algolia Support team: https://alg.li/support",t,"RetryError")}},Dt=class extends qr{status;constructor(t,e,r,n="ApiError"){super(t,r,n),this.status=e}},xa=class extends Qr{response;constructor(t,e){super(t,"DeserializationError"),this.response=e}},Oa=class extends Dt{error;constructor(t,e,r,n){super(t,e,n,"DetailedApiError"),this.error=r}};function kr(t){let e=t;for(let r=t.length-1;r>0;r--){let n=Math.floor(Math.random()*(r+1)),i=t[r];e[r]=t[n],e[n]=i}return e}function Fa(t,e,r){let n=ja(r),i=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return n.length&&(i+=`?${n}`),i}function ja(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}function Ea(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;let r=Array.isArray(t.data)?t.data:I(I({},t.data),e.data);return JSON.stringify(r)}function Ta(t,e,r){let n=I(I(I({Accept:"application/json"},t),e),r),i={};return Object.keys(n).forEach(a=>{let s=n[a];i[a.toLowerCase()]=s}),i}function Aa(t){try{return JSON.parse(t.content)}catch(e){throw new xa(e.message,t)}}function Ia({content:t,status:e},r){try{let n=JSON.parse(t);return"error"in n?new Oa(n.message,e,n.error,r):new Dt(n.message,e,r)}catch{}return new Dt(t,e,r)}function Na({isTimedOut:t,status:e}){return!t&&~~e===0}function Ha({isTimedOut:t,status:e}){return t||Na({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function Da({status:t}){return~~(t/100)===2}function Ca(t){return t.map(e=>Mr(e))}function Mr(t){let e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return ue(I({},t),{request:ue(I({},t.request),{headers:I(I({},t.request.headers),e)})})}function Vr({hosts:t,hostsCache:e,baseHeaders:r,logger:n,baseQueryParameters:i,algoliaAgent:a,timeouts:s,requester:c,requestsCache:u,responsesCache:o}){async function l(d){let m=await Promise.all(d.map(g=>e.get(g,()=>Promise.resolve(Cr(g))))),p=m.filter(g=>g.isUp()),w=m.filter(g=>g.isTimedOut()),R=[...p,...w];return{hosts:R.length>0?R:d,getTimeout(g,b){return(w.length===0&&g===0?1:w.length+3+g)*b}}}async function f(d,m,p=!0){let w=[],R=Ea(d,m),y=Ta(r,d.headers,m.headers),g=d.method==="GET"?I(I({},d.data),m.data):{},b=I(I(I({},i),d.queryParameters),g);if(a.value&&(b["x-algolia-agent"]=a.value),m&&m.queryParameters)for(let x of Object.keys(m.queryParameters))!m.queryParameters[x]||Object.prototype.toString.call(m.queryParameters[x])==="[object Object]"?b[x]=m.queryParameters[x]:b[x]=m.queryParameters[x].toString();let S=0,_=async(x,F)=>{let A=x.pop();if(A===void 0)throw new Pa(Ca(w));let $=I(I({},s),m.timeouts),N={data:R,headers:y,method:d.method,url:Fa(A,d.path,b),connectTimeout:F(S,$.connect),responseTimeout:F(S,p?$.read:$.write)},q=H=>{let U={request:N,response:H,host:A,triesLeft:x.length};return w.push(U),U},C=await c.send(N);if(Ha(C)){let H=q(C);return C.isTimedOut&&S++,n.info("Retryable failure",Mr(H)),await e.set(A,Cr(A,C.isTimedOut?"timed out":"down")),_(x,F)}if(Da(C))return Aa(C);throw q(C),Ia(C,w)},P=t.filter(x=>x.accept==="readWrite"||(p?x.accept==="read":x.accept==="write")),O=await l(P);return _([...O.hosts].reverse(),O.getTimeout)}function h(d,m={}){let p=d.useReadTransporter||d.method==="GET";if(!p)return f(d,m,p);let w=()=>f(d,m);if((m.cacheable||d.cacheable)!==!0)return w();let y={request:d,requestOptions:m,transporter:{queryParameters:i,headers:r}};return o.get(y,()=>u.get(y,()=>u.set(y,w()).then(g=>Promise.all([u.delete(y),g]),g=>Promise.all([u.delete(y),Promise.reject(g)])).then(([g,b])=>b)),{miss:g=>o.set(y,g)})}return{hostsCache:e,requester:c,timeouts:s,logger:n,algoliaAgent:a,baseHeaders:r,baseQueryParameters:i,hosts:t,request:h,requestsCache:u,responsesCache:o}}var Br="5.37.0";function Ua(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(kr([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function La(a){var s=a,{appId:t,apiKey:e,authMode:r,algoliaAgents:n}=s,i=Nt(s,["appId","apiKey","authMode","algoliaAgents"]);let c=Lr(t,e,r),u=Vr(ue(I({hosts:Ua(t)},i),{algoliaAgent:Wr({algoliaAgents:n,client:"Lite",version:Br}),baseHeaders:I(I({"content-type":"text/plain"},c.headers()),i.baseHeaders),baseQueryParameters:I(I({},c.queryParameters()),i.baseQueryParameters)}));return{transporter:u,appId:t,apiKey:e,clearCache(){return Promise.all([u.requestsCache.clear(),u.responsesCache.clear()]).then(()=>{})},get _ua(){return u.algoliaAgent.value},addAlgoliaAgent(o,l){u.algoliaAgent.add({segment:o,version:l})},setClientApiKey({apiKey:o}){!r||r==="WithinHeaders"?u.baseHeaders["x-algolia-api-key"]=o:u.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,l){return this.search(o,l)},searchForFacets(o,l){return this.search(o,l)},customPost({path:o,parameters:l,body:f},h){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");let w={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:l||{},headers:{},data:f||{}};return u.request(w,h)},getRecommendations(o,l){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");let m={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return u.request(m,l)},search(o,l){if(o&&Array.isArray(o)&&(o={requests:o.map(y=>{var g=y,{params:w}=g,R=Nt(g,["params"]);return R.type==="facet"?ue(I(I({},R),w),{type:"facet"}):ue(I(I({},R),w),{facet:void 0,maxFacetHits:void 0,facetQuery:void 0})})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");let m={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return u.request(m,l)}}}function zr(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return La(I({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:$r(),requester:Hr(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:et(),requestsCache:et({serializable:!1}),hostsCache:_e({caches:[Ur({key:`${Br}-${t}`}),et()]})},r))}var ba=Ze(tt(),1),jr=Ze(rr(),1);var Ls="ais",he=function(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Ls,"-").concat(e).concat(a).concat(s)}};var Ws=0;function ii(t){t.dependsOn==="recommend"&&(t.$$id=Ws++)}function X(){}var $s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ai=/[&<>"']/g,Qs=RegExp(ai.source);function si(t){return t&&Qs.test(t)?t.replace(ai,function(e){return $s[e]}):t}var qs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},oi=/&(amp|quot|lt|gt|#39);/g,ks=RegExp(oi.source);function ci(t){return t&&ks.test(t)?t.replace(oi,function(e){return qs[e]}):t}function nr(t){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(t)}function Ms(t){return t===null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Vs(t){return nr(t)==="object"&&t!==null}function ui(t){if(!Vs(t)||Ms(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}function Bs(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function ir(){return ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ir.apply(this,arguments)}function li(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?li(Object(r),!0).forEach(function(n){hi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hi(t,e,r){return e=zs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zs(t){var e=Ks(t,"string");return Ce(e)=="symbol"?e:String(e)}function Ks(t,e){if(Ce(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ce(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fi={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},W={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Js(t){return si(t).replace(new RegExp(fi.highlightPreTag,"g"),W.highlightPreTag).replace(new RegExp(fi.highlightPostTag,"g"),W.highlightPostTag)}function ft(t){return ui(t)&&typeof t.value!="string"?Object.keys(t).reduce(function(e,r){return lt(lt({},e),{},hi({},r,ft(t[r])))},{}):Array.isArray(t)?t.map(ft):lt(lt({},t),{},{value:Js(t.value)})}function cl(t){return t.__escaped===void 0&&(t=t.map(function(e){var r=ir({},(Bs(e),e));return r._highlightResult&&(r._highlightResult=ft(r._highlightResult)),r._snippetResult&&(r._snippetResult=ft(r._snippetResult)),r}),t.__escaped=!0),t}function ht(t){var e=W.highlightPreTag,r=W.highlightPostTag;return t.map(function(n){return n.isHighlighted?e+n.value+r:n.value}).join("")}function di(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function B(t){return t.$$type==="ais.index"}function dt(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(B).forEach(function(n){return dt(t,n)})}var Gs=Promise.resolve();function xe(t){var e=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];e===null&&(e=Gs.then(function(){if(e=null,r){r=!1;return}t.apply(void 0,s)}))};return n.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},n.cancel=function(){e!==null&&(r=!0)},n}function Xs(t){var e=t.name,r=t.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",n?"#connector":""].join("")}function mt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.map(function(i){return Xs(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function ar(t,e){for(var r,n=0;n<t.length;n++)if(r=t[n],e(r,n,t))return r}function mi(t,e){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function sr(t){if(t.appId&&t.apiKey)return[t.appId,t.apiKey];if(t.transporter){var e=t.transporter,r=e.headers||e.baseHeaders,n=e.queryParameters||e.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=r[i]||n[i],c=r[a]||n[a];return[s,c]}else return[t.applicationID,t.apiKey]}function pt(t){var e=W.highlightPostTag,r=W.highlightPreTag,n=t.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var c=s.split(e);a.push({value:c[0],isHighlighted:!0}),c[1]!==""&&a.push({value:c[1],isHighlighted:!1})}),a}var Ys=new RegExp(/\w/i);function pi(t,e){var r,n,i=t[e],a=((r=t[e+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=t[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Ys.test(ci(i.value))&&s===a?s:i.isHighlighted}function de(t,e){var r=Array.isArray(e)?e:e.split(".");return r.reduce(function(n,i){return n&&n[i]},t)}function Ue(t){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(t)}function gi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gi(Object(r),!0).forEach(function(n){Zs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zs(t,e,r){return e=eo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eo(t){var e=to(t,"string");return Ue(e)=="symbol"?e:String(e)}function to(t,e){if(Ue(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ue(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yi(t,e){var r=Object.keys(e).reduce(function(n,i){var a=e[i];return a.recommendResults?vi(vi({},n),a.recommendResults.results):n},{});t._recommendCache=r}function We(t){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(t)}function ro(t,e){return so(t)||ao(t,e)||io(t,e)||no()}function no(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function io(t,e){if(t){if(typeof t=="string")return bi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bi(t,e)}}function bi(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ao(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function so(t){if(Array.isArray(t))return t}function Ri(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ri(Object(r),!0).forEach(function(n){Si(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ri(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Si(t,e,r){return e=oo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oo(t){var e=co(t,"string");return We(e)=="symbol"?e:String(e)}function co(t,e){if(We(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(We(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wi(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var r=[Object.keys(e).reduce(function(s,c){var u=e[c],o=u.state,l=u.requestParams,f=u.results,h=f&&o?f.map(function(d,m){return Le({indexName:o.index||d.index},l!=null&&l[m]||d.params?{params:or(l?.[m]||uo(d.params))}:{})}):[];return s.concat(h)},[])],n=Object.keys(e).reduce(function(s,c){var u=e[c].results;return u?s.concat(u):s},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var i=t.search.bind(t);t.search=function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),o=1;o<c;o++)u[o-1]=arguments[o];var l=Array.isArray(s)?s.map(function(f){return Le(Le({},f),{},{params:or(f.params)})}):or(s.requestBody.params);return t.transporter.responsesCache.get({method:"search",args:[l].concat(u)},function(){return i.apply(void 0,[s].concat(u))})},t.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in t)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));t.cache=Le(Le({},t.cache),{},Si({},a,JSON.stringify({results:Object.keys(e).map(function(s){return e[s].results})})))}}}function uo(t){return t.split("&").reduce(function(e,r){var n=r.split("="),i=ro(n,2),a=i[0],s=i[1];return e[a]=s?decodeURIComponent(s):"",e},{})}function or(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(s[u++])})};return Object.keys(t).map(function(n){return r("%s=%s",n,e(t[n])?JSON.stringify(t[n]):t[n])}).join("&")}function _i(t){return t!==Object(t)}function cr(t,e){if(t===e)return!0;if(_i(t)||_i(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(!(i in e)||!cr(t[i],e[i]))return!1}return!0}function Pi(t){return t.filter(function(e,r,n){return n.indexOf(e)===r})}function $e(t){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(t)}var lo=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function xi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xi(Object(r),!0).forEach(function(n){fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fo(t,e,r){return e=ho(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ho(t){var e=mo(t,"string");return $e(e)=="symbol"?e:String(e)}function mo(t,e){if($e(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($e(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function po(t,e){if(t==null)return{};var r=go(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function go(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var vo=function(e,r){var n=r.facets,i=r.disjunctiveFacets,a=r.facetsRefinements,s=r.facetsExcludes,c=r.disjunctiveFacetsRefinements,u=r.numericRefinements,o=r.tagRefinements,l=r.hierarchicalFacets,f=r.hierarchicalFacetsRefinements,h=r.ruleContexts,d=po(r,lo);return e.setQueryParameters(d)},yo=function(e,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},e)},bo=function(e,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},e)},Ro=function(e,r){return e.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=mi(n,function(c){return c.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},e.hierarchicalFacets)})},So=function(e,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},e)},wo=function(e,r){return e.setQueryParameters({facetsRefinements:te(te({},e.facetsRefinements),r.facetsRefinements)})},_o=function(e,r){return e.setQueryParameters({facetsExcludes:te(te({},e.facetsExcludes),r.facetsExcludes)})},Po=function(e,r){return e.setQueryParameters({disjunctiveFacetsRefinements:te(te({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},xo=function(e,r){return e.setQueryParameters({numericRefinements:te(te({},e.numericRefinements),r.numericRefinements)})},Oo=function(e,r){return e.setQueryParameters({hierarchicalFacetsRefinements:te(te({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},Fo=function(e,r){var n=Pi([].concat(e.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},Oi=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=Oo(i,a),c=Ro(s,a),u=So(c,a),o=xo(u,a),l=Po(o,a),f=_o(l,a),h=wo(f,a),d=bo(h,a),m=Fo(d,a),p=yo(m,a);return vo(p,a)})};function ye(t,e,r){var n=e.getHelper();return{uiState:r,helper:n,parent:e,instantSearchInstance:t,state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function ur(t,e,r){var n=e.getResultsForWidget(r),i=e.getHelper();return{helper:i,parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Fi(t){for(var e=t.getParent(),r=[t.getHelper().state];e!==null;)r=[e.getHelper().state].concat(r),e=e.getParent();return r}function Qe(t){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(t)}function ji(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ji(Object(r),!0).forEach(function(n){jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jo(t,e,r){return e=Eo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eo(t){var e=To(t,"string");return Qe(e)=="symbol"?e:String(e)}function To(t,e){if(Qe(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,r){return gt(gt({},e),{},{isHighlighted:!pi(t,r)})}):t.map(function(e){return gt(gt({},e),{},{isHighlighted:!1})})}function Y(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=e.fallback;return typeof window>"u"?r():t({window})}var Ao=he("Highlight");function yt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=de(i._highlightResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=Ao({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(W.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(W.highlightPostTag,"g"),"</".concat(n,">"))}var Io=he("ReverseHighlight");function bt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=de(i._highlightResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=Io({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),h=ht(vt(pt(l)));return h.replace(new RegExp(W.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(W.highlightPostTag,"g"),"</".concat(n,">"))}var No=he("Snippet");function Rt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=de(i._snippetResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=No({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(W.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(W.highlightPostTag,"g"),"</".concat(n,">"))}var Ho=he("ReverseSnippet");function St(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=de(i._snippetResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=Ho({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),h=ht(vt(pt(l)));return h.replace(new RegExp(W.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(W.highlightPostTag,"g"),"</".concat(n,">"))}function lr(t){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(t)}function Do(t){var e=t.method,r=t.payload;if(lr(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=di(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(n,'"')}function wt(t,e){return Do({method:t,payload:e})}function fr(t){"@babel/helpers - typeof";return fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(t)}var Co="_ALGOLIA";function Uo(t){if(!((typeof document>"u"?"undefined":fr(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function hr(){return Uo(Co)}function Ei(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}function qe(t){"@babel/helpers - typeof";return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(t)}function Ti(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ti(Object(r),!0).forEach(function(n){Lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lo(t,e,r){return e=Wo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wo(t){var e=$o(t,"string");return qe(e)=="symbol"?e:String(e)}function $o(t,e){if(qe(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function se(t,e){return ko(t)||qo(t,e)||Ni(t,e)||Qo()}function Qo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qo(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function ko(t){if(Array.isArray(t))return t}function Mo(t){return zo(t)||Bo(t)||Ni(t)||Vo()}function Vo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ni(t,e){if(t){if(typeof t=="string")return dr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dr(t,e)}}function Bo(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zo(t){if(Array.isArray(t))return dr(t)}function dr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hi="2.17.2",Ko="https://cdn.jsdelivr.net/npm/search-insights@".concat(Hi,"/dist/search-insights.min.js");function mr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,r=t.insightsInitParams,n=t.onEvent,i=t.$$internal,a=i===void 0?!1:i,s=t.$$automatic,c=s===void 0?!1:s,u=e;!e&&e!==null&&Y(function(l){var f=l.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(u=f[h]),u||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var d=arguments.length,m=new Array(d),p=0;p<d;p++)m[p]=arguments[p];f[h].queue.push(m)},f[h].version=Hi,f[h].shouldAddScript=!0),u=f[h])});var o=u||X;return function(l){var f=l.instantSearchInstance,h=f.middleware.filter(function(x){return x.instance.$$type==="ais.insights"&&x.instance.$$internal}).map(function(x){return x.creator});f.unuse.apply(f,Mo(h));var d=sr(f.client),m=se(d,2),p=m[0],w=m[1],R=void 0,y=void 0,g=void 0,b=o.queue;if(Array.isArray(b)){var S=["setUserToken","init"].map(function(x){var F=ar(b.slice().reverse(),function(N){var q=se(N,1),C=q[0];return C===x})||[],A=se(F,2),$=A[1];return $}),_=se(S,2);y=_[0],R=_[1]}o("getUserToken",null,function(x,F){g=Ii(F)}),(r||!Ai(o))&&o("init",be({appId:p,apiKey:w,partial:!0},r));var P,O;return{$$type:"ais.insights",$$internal:a,$$automatic:c,onStateChange:function(){},subscribe:function(){if(o.shouldAddScript){var F="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var A=document.createElement("script");A.async=!0,A.src=Ko,A.onerror=function(){f.emit("error",new Error(F))},document.body.appendChild(A),o.shouldAddScript=!1}catch{o.shouldAddScript=!1,f.emit("error",new Error(F))}}},started:function(){o("addAlgoliaAgent","insights-middleware"),O=f.mainHelper;var F=o.queue;if(Array.isArray(F)){var A=["setUserToken","init"].map(function(L){var K=ar(F.slice().reverse(),function(pe){var we=se(pe,1),It=we[0];return It===L})||[],ie=se(K,2),ee=ie[1];return ee}),$=se(A,2);y=$[0],R=$[1]}P=Jo(f),c||O.overrideStateWithoutTriggeringChangeEvent(be(be({},O.state),{},{clickAnalytics:!0})),a||f.scheduleSearch();var N=function(K){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ee=Ii(K);if(!ee)return;var pe=O.state.userToken;function we(){O.overrideStateWithoutTriggeringChangeEvent(be(be({},O.state),{},{userToken:ee})),pe&&pe!==K&&f.scheduleSearch()}ie?we():setTimeout(we,0)};function q(L){N(L,!0),o("setUserToken",L)}var C=void 0,H=hr();if(H)C=H;else{var U="anonymous-".concat(Ei());C=U}var me,Ye=P.userToken;if(r!=null&&r.userToken&&(me=r.userToken),me)q(me);else if(Ye)q(Ye);else if(g)q(g);else if(y)q(y);else if(C){var Te;if(q(C),r!=null&&r.useCookie||(Te=R)!==null&&Te!==void 0&&Te.useCookie){var Et;Go(C,r?.cookieDuration||((Et=R)===null||Et===void 0?void 0:Et.cookieDuration))}}o("onUserTokenChange",function(L){return N(L,!0)},{immediate:!0});var Tt=o;Ai(o)&&(Tt=function(K,ie){var ee=sr(f.client),pe=se(ee,2),we=pe[0],It=pe[1],Sa={headers:{"X-Algolia-Application-Id":we,"X-Algolia-API-Key":It}};return o(K,ie,Sa)});var At=new Set,Er;f.mainHelper.derivedHelpers[0].on("result",function(L){var K=L.results;K&&(!K.queryID||K.queryID!==Er)&&(Er=K.queryID,At.clear())}),f.sendEventToInsights=function(L){if(n)n(L,Tt);else if(L.insightsMethod){if(L.insightsMethod==="viewedObjectIDs"){var K=L.payload,ie=K.objectIDs.filter(function(ee){return!At.has(ee)});if(ie.length===0)return;ie.forEach(function(ee){return At.add(ee)}),K.objectIDs=ie}L.payload.algoliaSource=["instantsearch"],c&&L.payload.algoliaSource.push("instantsearch-automatic"),L.eventModifier==="internal"&&L.payload.algoliaSource.push("instantsearch-internal"),Tt(L.insightsMethod,L.payload)}}},unsubscribe:function(){o("onUserTokenChange",void 0),f.sendEventToInsights=X,O&&P&&(O.overrideStateWithoutTriggeringChangeEvent(be(be({},O.state),P)),f.scheduleSearch())}}}}function Jo(t){var e,r,n=((e=t._initialResults)===null||e===void 0||(r=e[t.indexName])===null||r===void 0?void 0:r.state)||{},i=t.mainHelper.state;return{userToken:n.userToken||i.userToken,clickAnalytics:n.clickAnalytics||i.clickAnalytics}}function Go(t,e){var r=2592e6,n=new Date;n.setTime(n.getTime()+(e||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(t,";").concat(i,";path=/")}function Ai(t){var e=(t.version||"").split(".").map(Number),r=se(e,2),n=r[0],i=r[1],a=n>=3,s=n===2&&i>=6,c=n===1&&i>=10;return a||s||c}function Ii(t){if(t)return typeof t=="number"?t.toString():t}function Di(t,e,r){var n=ye(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var c=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:c}),i.$$type==="ais.index"&&Di(i.getWidgets(),e,r)})}function Ci(){return Y(function(t){var e,r,n=t.window;return((e=n.navigator)===null||e===void 0||(r=e.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Ui(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,r=e===void 0?!1:e;return function(n){var i=n.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),c=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var o=i.client;a.ua=o.transporter&&o.transporter.userAgent?o.transporter.userAgent.value:o._ua,Di(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(l){return a.widgets.push({middleware:!0,type:l.instance.$$type,internal:l.instance.$$internal})}),s.content=JSON.stringify(a),c.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var Rr=Ze(Gi(),1);function Me(t){"@babel/helpers - typeof";return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(t)}function jc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zi(n.key),n)}}function Ec(t,e,r){return e&&Xi(t.prototype,e),r&&Xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z(t,e,r){return e=Zi(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zi(t){var e=Tc(t,"string");return Me(e)=="symbol"?e:String(e)}function Tc(t,e){if(Me(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Me(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yi=function(e){e&&(window.document.title=e)},Ac=(function(){function t(e){var r=this,n=e.windowTitle,i=e.writeDelay,a=i===void 0?400:i,s=e.createURL,c=e.parseURL,u=e.getLocation,o=e.start,l=e.dispose,f=e.push,h=e.cleanUrlOnDispose;jc(this,t),z(this,"$$type","ais.browser"),z(this,"windowTitle",void 0),z(this,"writeDelay",void 0),z(this,"_createURL",void 0),z(this,"parseURL",void 0),z(this,"getLocation",void 0),z(this,"writeTimer",void 0),z(this,"_onPopState",void 0),z(this,"inPopState",!1),z(this,"isDisposed",!1),z(this,"latestAcknowledgedHistory",0),z(this,"_start",void 0),z(this,"_dispose",void 0),z(this,"_push",void 0),z(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=c,this.getLocation=u,this._start=o,this._dispose=l,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,Y(function(d){var m=d.window,p=r.windowTitle&&r.windowTitle(r.read());Yi(p),r.latestAcknowledgedHistory=m.history.length})}return Ec(t,[{key:"read",value:function(){return this.parseURL({qsModule:Rr.default,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;Y(function(i){var a=i.window,s=n.createURL(r),c=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){Yi(c),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,c||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},Y(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:Rr.default,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,Y(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return Y(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),t})();function Fe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,r=e===void 0?function(m){var p=m.qsModule,w=m.routeState,R=m.location,y=R.protocol,g=R.hostname,b=R.port,S=b===void 0?"":b,_=R.pathname,P=R.hash,O=p.stringify(w),x=S===""?"":":".concat(S);return O?"".concat(y,"//").concat(g).concat(x).concat(_,"?").concat(O).concat(P):"".concat(y,"//").concat(g).concat(x).concat(_).concat(P)}:e,n=t.parseURL,i=n===void 0?function(m){var p=m.qsModule,w=m.location;return p.parse(w.search.slice(1),{arrayLimit:99})}:n,a=t.writeDelay,s=a===void 0?400:a,c=t.windowTitle,u=t.getLocation,o=u===void 0?function(){return Y(function(m){var p=m.window;return p.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,l=t.start,f=t.dispose,h=t.push,d=t.cleanUrlOnDispose;return new Ac({createURL:r,parseURL:i,writeDelay:s,windowTitle:c,getLocation:o,start:l,dispose:f,push:h,cleanUrlOnDispose:d})}function Ve(t){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(t)}var Ic=["configure"];function ea(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ea(Object(r),!0).forEach(function(n){Sr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sr(t,e,r){return e=Nc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nc(t){var e=Hc(t,"string");return Ve(e)=="symbol"?e:String(e)}function Hc(t,e){if(Ve(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ve(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dc(t,e){if(t==null)return{};var r=Cc(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cc(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ta(t){var e=t.configure,r=Dc(t,Ic);return r}function wr(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(r,n){return Pt(Pt({},r),{},Sr({},n,ta(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(r,n){return Pt(Pt({},r),{},Sr({},n,ta(e[n])))},{})}}}function Be(t){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(t)}function ra(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ra(Object(r),!0).forEach(function(n){na(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function na(t,e,r){return e=Uc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uc(t){var e=Lc(t,"string");return Be(e)=="symbol"?e:String(e)}function Lc(t,e){if(Be(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Be(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.router,n=r===void 0?Fe():r,i=e.stateMapping,a=i===void 0?wr():i,s=e.$$internal,c=s===void 0?!1:s;return function(u){var o=u.instantSearchInstance;function l(d){var m=o.mainIndex.getWidgets().length===0?o._initialUiState:o.mainIndex.getWidgetUiState({}),p=Object.keys(d).reduce(function(R,y){return xt(xt({},R),{},na({},y,d[y]))},m),w=a.stateToRoute(p);return n.createURL(w)}o._createURL=l;var f=void 0,h=o._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:c,onStateChange:function(m){var p=m.uiState,w=a.stateToRoute(p);(f===void 0||!cr(f,w))&&(n.write(w),f=w)},subscribe:function(){o._initialUiState=xt(xt({},h),a.routeToState(n.read())),n.onUpdate(function(m){o.mainIndex.getWidgets().length>0&&o.setUiState(a.routeToState(m))})},started:function(){var m;(m=n.start)===null||m===void 0||m.call(n)},unsubscribe:function(){n.dispose()}}}};var Z=Ze(rr(),1);function Ge(t){"@babel/helpers - typeof";return Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(t)}var Wc=["initialSearchParameters"],$c=["initialRecommendParameters"];function aa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aa(Object(r),!0).forEach(function(n){je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function je(t,e,r){return e=Qc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qc(t){var e=qc(t,"string");return Ge(e)=="symbol"?e:String(e)}function qc(t,e){if(Ge(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ge(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oa(t){return Bc(t)||Vc(t)||Mc(t)||kc()}function kc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mc(t,e){if(t){if(typeof t=="string")return Pr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pr(t,e)}}function Vc(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bc(t){if(Array.isArray(t))return Pr(t)}function Pr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ca(t,e){if(t==null)return{};var r=zc(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zc(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var ze=mt({name:"index-widget"});function ua(t,e){var r=e.state,n=e.recommendState,i=e.isPageReset,a=e._uiState;r!==t.state&&(t.state=r,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:i,_uiState:a})),n!==t.recommendState&&(t.recommendState=n)}function Ke(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(n,i){return B(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,e):i.getWidgetState(n,e)},r)}function Je(t,e){var r=e.initialSearchParameters,n=ca(e,Wc);return t.reduce(function(i,a){return!a.getWidgetSearchParameters||B(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function sa(t,e){var r=e.initialRecommendParameters,n=ca(e,$c);return t.reduce(function(i,a){return!B(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function la(t){var e=t.filter(B);e.length!==0&&e.forEach(function(r){var n=r.getHelper();ua(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),la(r.getWidgets())})}function fa(t){var e=t.filter(B);return e.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(oa(fa(n.getWidgets()))))},[])}var Kc=function(e){if(e===void 0||e.indexName===void 0&&!e.EXPERIMENTAL_isolated)throw new Error(ze("The `indexName` option is required."));var r=e.indexName,n=r===void 0?"":r,i=e.indexId,a=i===void 0?n:i,s=e.EXPERIMENTAL_isolated,c=s===void 0?!1:s,u=[],o={},l=null,f=null,h=null,d=null,m=null,p=!1,w=!1;return{$$type:"ais.index",$$widgetType:"ais.index",_isolated:c,getIndexName:function(){return n},getIndexId:function(){return a},getHelper:function(){return h},getResults:function(){var y;return(y=d)!==null&&y!==void 0&&y.lastResults?(d.lastResults._state=h.state,d.lastResults):null},getResultsForWidget:function(y){var g;return y.dependsOn!=="recommend"||B(y)||y.$$id===void 0?this.getResults():(g=h)!==null&&g!==void 0&&g.lastRecommendResults?h.lastRecommendResults[y.$$id]:null},getPreviousState:function(){return m},getScopedResults:function(){var y=this.getParent(),g;return y?g=y.getWidgets():n.length===0?g=this.getWidgets():g=[this],fa(g)},getParent:function(){return c?null:f},createURL:function(y){return typeof y=="function"?l._createURL(je({},a,y(o))):l._createURL(je({},a,Ke(u,{searchParameters:y,helper:h})))},getWidgets:function(){return u},addWidgets:function(y){var g=this;if(!Array.isArray(y))throw new Error(ze("The `addWidgets` method expects an array of widgets."));var b=y.reduce(function(_,P){return _.concat(Array.isArray(P)?P:[P])},[]);if(b.some(function(_){return typeof _.init!="function"&&typeof _.render!="function"}))throw new Error(ze("The widget definition expects a `render` and/or an `init` method."));if(b.forEach(function(_){B(_)||(l&&_.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:_.dependsOn==="recommend"?p=!0:w=!0,ii(_))}),u=u.concat(b),l&&b.length)if(ua(h,{state:Je(u,{uiState:o,initialSearchParameters:h.state}),recommendState:sa(u,{uiState:o,initialRecommendParameters:h.recommendState}),_uiState:o}),b.forEach(function(_){if(_.getRenderState){var P=_.getRenderState(l.renderState[g.getIndexId()]||{},ye(l,g,l._initialUiState));_r({renderState:P,instantSearchInstance:l,parent:g})}}),b.forEach(function(_){_.init&&_.init(ye(l,g,l._initialUiState))}),c){var S;(S=h)===null||S===void 0||S.search()}else l.scheduleSearch();return this},removeWidgets:function(y){var g=this;if(!Array.isArray(y))throw new Error(ze("The `removeWidgets` method expects an array of widgets."));var b=y.reduce(function(F,A){return F.concat(Array.isArray(A)?A:[A])},[]);if(b.some(function(F){return typeof F.dispose!="function"}))throw new Error(ze("The widget definition expects a `dispose` method."));if(u=u.filter(function(F){return b.indexOf(F)===-1}),u.forEach(function(F){B(F)||(l&&F.dependsOn==="recommend"?l._hasRecommendWidget=!0:l?l._hasSearchWidget=!0:F.dependsOn==="recommend"?p=!0:w=!0)}),l&&b.length){var S=b.reduce(function(F,A){var $=A.dispose({helper:h,state:F.cleanedSearchState,recommendState:F.cleanedRecommendState,parent:g});return $ instanceof Z.default.RecommendParameters?F.cleanedRecommendState=$:$&&(F.cleanedSearchState=$),F},{cleanedSearchState:h.state,cleanedRecommendState:h.recommendState}),_=S.cleanedSearchState,P=S.cleanedRecommendState,O=l.future.preserveSharedStateOnUnmount?Je(u,{uiState:o,initialSearchParameters:new Z.default.SearchParameters({index:this.getIndexName()})}):Je(u,{uiState:Ke(u,{searchParameters:_,helper:h}),initialSearchParameters:_});if(o=Ke(u,{searchParameters:O,helper:h}),h.setState(O),h.recommendState=P,u.length)if(c){var x;(x=h)===null||x===void 0||x.search()}else l.scheduleSearch()}return this},init:function(y){var g=this,b,S=y.instantSearchInstance,_=y.parent,P=y.uiState;if(h===null){l=S,f=_,o=P[a]||{};var O=S.mainHelper,x=Je(u,{uiState:o,initialSearchParameters:new Z.default.SearchParameters({index:n})}),F=sa(u,{uiState:o,initialRecommendParameters:new Z.default.RecommendParameters});h=(0,Z.default)(O.getClient(),x.index,x),h.recommendState=F,h.search=function(){return c?(S.status="loading",g.render({instantSearchInstance:S}),S.compositionID?h.searchWithComposition():h.searchOnlyWithDerivedHelpers()):S.onStateChange?(S.onStateChange({uiState:S.mainIndex.getWidgetUiState({}),setUiState:function(U){return S.setUiState(U,!1)}}),O):O.search()},h.searchWithoutTriggeringOnStateChange=function(){return O.search()},h.searchForFacetValues=function(H,U,me,Ye){var Te=h.state.setQueryParameters(Ye);return O.searchForFacetValues(H,U,me,Te)};var A=n?h:(0,Z.default)({},"__empty_index__",{}),$=c?A:Jc(_,O);d=$.derive(function(){return Oi.apply(void 0,[O.state].concat(oa(Fi(g))))},function(){return g.getHelper().recommendState});var N=(b=S._initialResults)===null||b===void 0?void 0:b[this.getIndexId()];if(N!=null&&N.results){var q=new Z.default.SearchResults(new Z.default.SearchParameters(N.state),N.results);d.lastResults=q,h.lastResults=q}if(N!=null&&N.recommendResults){var C=new Z.default.RecommendResults(new Z.default.RecommendParameters({params:N.recommendResults.params}),N.recommendResults.results);d.lastRecommendResults=C,h.lastRecommendResults=C}h.on("change",function(H){var U=H.isPageReset;U&&la(u)}),d.on("search",function(){S.scheduleStalledRender()}),d.on("result",function(H){var U=H.results;S.scheduleRender(),h.lastResults=U,m=U?._state}),d.on("recommend:result",function(H){var U=H.recommend;S.scheduleRender(),h.lastRecommendResults=U.results}),u.forEach(function(H){if(H.getRenderState){var U=H.getRenderState(S.renderState[g.getIndexId()]||{},ye(S,g,P));_r({renderState:U,instantSearchInstance:S,parent:g})}}),u.forEach(function(H){H.init&&H.init(ye(S,g,P))}),h.on("change",function(H){var U=H.state,me=H._uiState;o=Ke(u,{searchParameters:U,helper:h},me||{}),S.onStateChange||S.onInternalStateChange()}),N&&S.scheduleRender(),p&&(S._hasRecommendWidget=!0),w&&(S._hasSearchWidget=!0)}},render:function(y){var g,b=this,S=y.instantSearchInstance;S.status==="error"&&!S.mainHelper.hasPendingRequests()&&m&&h.setState(m);var _=this.getResults()||(g=d)!==null&&g!==void 0&&g.lastRecommendResults||c&&!n?u:u.filter(B);_=_.filter(function(P){return P.shouldRender?P.shouldRender({instantSearchInstance:S}):!0}),_.forEach(function(P){if(P.getRenderState){var O=P.getRenderState(S.renderState[b.getIndexId()]||{},ur(S,b,P));_r({renderState:O,instantSearchInstance:S,parent:b})}}),_.forEach(function(P){P.render&&P.render(ur(S,b,P))})},dispose:function(){var y=this,g,b;u.forEach(function(S){S.dispose&&h&&S.dispose({helper:h,state:h.state,recommendState:h.recommendState,parent:y})}),l=null,f=null,(g=h)===null||g===void 0||g.removeAllListeners(),h=null,(b=d)===null||b===void 0||b.detach(),d=null},getWidgetUiState:function(y){return u.filter(B).filter(function(g){return!g._isolated}).reduce(function(g,b){return b.getWidgetUiState(g)},ne(ne({},y),{},je({},a,ne(ne({},y[a]),o))))},getWidgetState:function(y){return this.getWidgetUiState(y)},getWidgetSearchParameters:function(y,g){var b=g.uiState;return Je(u,{uiState:b,initialSearchParameters:y})},refreshUiState:function(){o=Ke(u,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(y){var g=typeof y=="function"?y(o):y;l.setUiState(function(b){return ne(ne({},b),{},je({},a,g))})}}},ha=Kc;function _r(t){var e=t.renderState,r=t.instantSearchInstance,n=t.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=ne(ne({},r.renderState),{},je({},i,ne(ne({},r.renderState[i]),e)))}function Jc(t,e){for(;t;){if(t._isolated)return t.getHelper();t=t.getParent()}return e}function da(t,e){return t.toLocaleString(e)}function Xe(t){"@babel/helpers - typeof";return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(t)}function ma(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ma(Object(r),!0).forEach(function(n){Gc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gc(t,e,r){return e=Xc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xc(t){var e=Yc(t,"string");return Xe(e)=="symbol"?e:String(e)}function Yc(t,e){if(Xe(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xr(t){var e=t.numberLocale;return{formatNumber:function(n,i){return da(Number(i(n)),e)},highlight:function(n,i){try{var a=JSON.parse(n);return i(yt(oe(oe({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(bt(oe(oe({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(Rt(oe(oe({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(St(oe(oe({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,c=a.payload;return i(wt(s,oe({objectIDs:[this.objectID]},c)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}var pa="4.80.0";function Ee(t){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(t)}function ga(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ga(Object(r),!0).forEach(function(n){T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function va(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ya(n.key),n)}}function eu(t,e,r){return e&&va(t.prototype,e),r&&va(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fr(t,e)}function Fr(t,e){return Fr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fr(t,e)}function ru(t){var e=iu();return function(){var n=Ot(t),i;if(e){var a=Ot(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nu(this,i)}}function nu(t,e){if(e&&(Ee(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}function E(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ot(t)}function T(t,e,r){return e=ya(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ya(t){var e=au(t,"string");return Ee(e)=="symbol"?e:String(e)}function au(t,e){if(Ee(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ee(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ce=mt({name:"instantsearch"});function su(){return"#"}var ou={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},cu=(function(t){tu(r,t);var e=ru(r);function r(n){var i,a;Zc(this,r),a=e.call(this),T(E(a),"client",void 0),T(E(a),"indexName",void 0),T(E(a),"compositionID",void 0),T(E(a),"insightsClient",void 0),T(E(a),"onStateChange",null),T(E(a),"future",void 0),T(E(a),"helper",void 0),T(E(a),"mainHelper",void 0),T(E(a),"mainIndex",void 0),T(E(a),"started",void 0),T(E(a),"templatesConfig",void 0),T(E(a),"renderState",{}),T(E(a),"_stalledSearchDelay",void 0),T(E(a),"_searchStalledTimer",void 0),T(E(a),"_initialUiState",void 0),T(E(a),"_initialResults",void 0),T(E(a),"_manuallyResetScheduleSearch",!1),T(E(a),"_resetScheduleSearch",void 0),T(E(a),"_createURL",void 0),T(E(a),"_searchFunction",void 0),T(E(a),"_mainHelperSearch",void 0),T(E(a),"_hasSearchWidget",!1),T(E(a),"_hasRecommendWidget",!1),T(E(a),"_insights",void 0),T(E(a),"middleware",[]),T(E(a),"sendEventToInsights",void 0),T(E(a),"status","idle"),T(E(a),"error",void 0),T(E(a),"scheduleSearch",xe(function(){a.started&&a.mainHelper.search()})),T(E(a),"scheduleRender",xe(function(){var N,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(N=a.mainHelper)!==null&&N!==void 0&&N.hasPendingRequests()||(clearTimeout(a._searchStalledTimer),a._searchStalledTimer=null,q&&(a.status="idle",a.error=void 0)),a.mainIndex.render({instantSearchInstance:E(a)}),a.emit("render")})),T(E(a),"onInternalStateChange",xe(function(){var N=a.mainIndex.getWidgetUiState({});a.middleware.forEach(function(q){var C=q.instance;C.onStateChange({uiState:N})})})),a.setMaxListeners(100);var s=n.indexName,c=s===void 0?"":s,u=n.compositionID,o=n.numberLocale,l=n.initialUiState,f=l===void 0?{}:l,h=n.routing,d=h===void 0?null:h,m=n.insights,p=m===void 0?void 0:m,w=n.searchFunction,R=n.stalledSearchDelay,y=R===void 0?200:R,g=n.searchClient,b=g===void 0?null:g,S=n.insightsClient,_=S===void 0?null:S,P=n.onStateChange,O=P===void 0?null:P,x=n.future,F=x===void 0?Or(Or({},ou),n.future||{}):x;if(b===null)throw new Error(ce("The `searchClient` option is required."));if(typeof b.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof b.addAlgoliaAgent=="function"&&b.addAlgoliaAgent("instantsearch.js (".concat(pa,")")),_&&typeof _!="function")throw new Error(ce("The `insightsClient` option should be a function."));if(a.client=b,a.future=F,a.insightsClient=_,a.indexName=c,a.compositionID=u,a.helper=null,a.mainHelper=null,a.mainIndex=ha({indexName:a.compositionID||a.indexName}),a.onStateChange=O,a.started=!1,a.templatesConfig={helpers:xr({numberLocale:o}),compileOptions:{}},a._stalledSearchDelay=y,a._searchStalledTimer=null,a._createURL=su,a._initialUiState=f,a._initialResults=null,a._insights=p,w&&(a._searchFunction=w),a.sendEventToInsights=X,d){var A=typeof d=="boolean"?{}:d;A.$$internal=!0,a.use(ia(A))}if(p){var $=typeof p=="boolean"?{}:p;$.$$internal=!0,a.use(mr($))}return Ci()&&a.use(Ui({$$internal:!0})),a}return eu(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];var u=s.map(function(o){var l=Or({$$type:"__unknown__",$$internal:!1,subscribe:X,started:X,unsubscribe:X,onStateChange:X},o({instantSearchInstance:i}));return i.middleware.push({creator:o,instance:l}),l});return this.started&&u.forEach(function(o){o.subscribe(),o.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(c){return a.includes(c.creator)}).forEach(function(c){return c.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(c){return!a.includes(c.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(ce("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(this.compositionID&&i.some(function(a){return!Array.isArray(a)&&B(a)&&!a._isolated}))throw new Error(ce("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(ce("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(ce("The `start` method has already been called once."));var a=this.mainHelper||(0,jr.default)(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(a.searchForFacetValues=a.searchForCompositionFacetValues.bind(a)),a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?a.searchWithComposition():a.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var s={search:function(){return new Promise(X)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),o=(0,jr.default)(s,u.state.index,u.state);return o.once("search",function(l){var f=l.state;u.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),o.on("change",function(l){var f=l.state;u.setState(f)}),i._searchFunction(o),a}}if(a.on("error",function(u){var o=u.error;if(!(o instanceof Error)){var l=o;o=Object.keys(l).reduce(function(f,h){return f[h]=l[h],f},new Error(l.message))}o.error=o,i.error=o,i.status="error",i.scheduleRender(!1),i.emit("error",o)}),this.mainHelper=a,this.middleware.forEach(function(u){var o=u.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){wi(this.client,this._initialResults),yi(this.mainHelper,this._initialResults);var c=this.scheduleSearch;this.scheduleSearch=xe(X),this._manuallyResetScheduleSearch?this._resetScheduleSearch=function(){i.scheduleSearch=c}:xe(function(){i.scheduleSearch=c})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var o=u.instance;o.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(o){var l=o.results;return l?._automaticInsights});u&&i.use(mr({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(ce("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var c=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:c,setUiState:function(o){dt(typeof o=="function"?o(c):o,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(dt(c,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(ce("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(ce("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r})(ba.default),Ft=cu;var jt=zr(Ht.algolia.appId,Ht.algolia.apiKey),Ra=class t{instantSearchInstance;instantSearchMediasInstance;router=Ar(Nr);query=Ir("");constructor(){this.instantSearchInstance=new Ft({searchClient:jt,indexName:"GHCOMsearchable_posts",future:{preserveSharedStateOnUnmount:!0},stalledSearchDelay:2e3,routing:{router:Fe({cleanUrlOnDispose:!1,getLocation:()=>typeof window>"u"?new URL(this.router.location._locationStrategy._platformLocation.href):window.location})}}),this.instantSearchMediasInstance=new Ft({searchClient:jt,indexName:"GHCOMposts_attachment",future:{preserveSharedStateOnUnmount:!0},stalledSearchDelay:2e3,routing:{router:Fe({cleanUrlOnDispose:!1,getLocation:()=>typeof window>"u"?new URL(this.router.location._locationStrategy._platformLocation.href):window.location})}})}start(){this.instantSearchInstance.start(),this.instantSearchMediasInstance.start()}addWidgets(e){this.instantSearchInstance.addWidgets(e),this.instantSearchMediasInstance.addWidgets(e)}removeWidgets(e){this.instantSearchInstance.removeWidgets(e),this.instantSearchMediasInstance.removeWidgets(e)}createInstance(e){return new Ft({searchClient:jt,indexName:e,future:{preserveSharedStateOnUnmount:!0},stalledSearchDelay:2e3})}async requests(e=[],r=null){let n={indexName:"GHCOMsearchable_posts",hitsPerPage:33};return r?n.filters=`objectID:${r}`:e&&(n.facetFilters=e),await jt.searchForHits({requests:[n]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Tr({token:t,factory:t.\u0275fac,providedIn:"root"})};export{lu as a,rr as b,X as c,ui as d,fi as e,cl as f,di as g,mt as h,Oi as i,Ra as j};
