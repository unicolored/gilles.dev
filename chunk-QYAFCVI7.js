import{Qb as N,R as k,Ua as U}from"./chunk-GBRLF56M.js";var l=class{constructor(t){this.values=[],this.delimiter=":",this.hasValue(t)&&this.addValue(t)}toString(){return this.values.join(this.delimiter)}hasValue(t){return typeof t<"u"&&t!==null&&t!==""}addValue(t){return Array.isArray(t)?this.values=this.values.concat(t):this.values.push(t),this.values=this.values.filter(r=>this.hasValue(r)),this}setDelimiter(t){return this.delimiter=t,this}};var M=class extends Error{constructor(t="Unsupported"){super(t)}};function y(e){return new M(e)}function $(){return this._qualifierModel||{error:y(`unsupported qualifier ${this.constructor.name}`)}}var E=class{constructor(){this._qualifierModel={}}toJson(){return $.apply(this)}};var c=class extends E{constructor(t,r){super(),this.delimiter="_",this.key=t,r instanceof l?this.qualifierValue=r:(this.qualifierValue=new l,this.qualifierValue.addValue(r))}toString(){let{key:t,delimiter:r,qualifierValue:n}=this;return`${t}${r}${n.toString()}`}addValue(t){return this.qualifierValue.addValue(t),this}};var a=class extends c{constructor(t,r){let n;r?n=new l([t,`${r}`]).setDelimiter(":"):n=t,super("fl",n),this.flagValue=r}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}};function q(e,t){let r=Array.from(e.entries());return t.forEach(n=>{r.push(["fl",n])}),r.sort().map(n=>n[1])}function Y(){var e,t,r;let n=this._actionModel&&Object.keys(this._actionModel).length,i=(r=(t=(e=this._actionModel)===null||e===void 0?void 0:e.source)===null||t===void 0?void 0:t.transformation)===null||r===void 0?void 0:r.error;return i&&i instanceof Error?{error:i}:n?this._actionModel:{error:y(`unsupported action ${this.constructor.name}`)}}var A=class{constructor(){this._actionModel={}}toJson(){return Y.apply(this)}};var h=class extends A{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(t){return this.actionTag=t,this}toString(){return this.prepareQualifiers(),q(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(t){if(typeof t=="string"){let[r,n]=t.toLowerCase().split("_");r==="fl"?this.flags.push(new a(n)):this.qualifiers.set(r,new c(r,n))}else this.qualifiers.set(t.key,t);return this}addFlag(t){return typeof t=="string"?this.flags.push(new a(t)):t instanceof a&&this.flags.push(t),this}addValueToQualifier(t,r){return this.qualifiers.get(t).addValue(r),this}};function Q(e){return e&&(e.match(/^#/)?`rgb:${e.substr(1)}`:e)}var O=class extends h{constructor(t){super(),this._actionModel={},this.addQualifier(new c("b",new l(Q(t)).setDelimiter("_"))),this._actionModel.color=t,this._actionModel.actionType="backgroundColor"}static fromJson(t){let{color:r}=t;return new this(r)}};var C=class{constructor(t){this.raw=t}toString(){return this.raw}toJson(){return{error:y(`unsupported action ${this.constructor.name}`)}}};function z(e){let t=e;return"error"in t&&!!t.error}function oe(){return new a("ignore_aspect_ratio")}function H(){return new a("lossy")}function J(){return new a("preserve_transparency")}function K(e){return new a("progressive",e)}function se(){return new a("region_relative")}function ae(){return new a("relative")}var w=class extends l{constructor(t){super(t),this.val=t}getValue(){return this.val}};function f(e){let t={};return Object.keys(e).forEach(r=>{t[e[r]]=r}),t}var pt={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},ht={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},ft={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},mt={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},gt={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},yt={444:"CHROMA_444",420:"CHROMA_420"},_t={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"};var he=f(yt),fe=f(_t),me=f(pt),W=f(ht),ge=f(ft),ye=f(mt),_e=f(gt);var T=class extends h{constructor(t,r,n){super(),this._actionModel={};let i;r instanceof w?i=r.getValue():i=r,this._actionModel.actionType=W[t],this._actionModel[n]=i,this.addQualifier(new c(t,r))}};var x=class extends a{constructor(t){super("progressive",t)}};var m=class extends T{constructor(t,r){super(t,r,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(H()),this}progressive(t){return t instanceof x?(this._actionModel.progressive={mode:t.getFlagValue()},this.addFlag(t)):(this._actionModel.progressive={mode:t},this.addFlag(K(t))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(J()),this}static fromJson(t){let{formatType:r,lossy:n,progressive:i,preserveTransparency:o}=t,s;return r?s=new this("f",r):s=new this("f"),i&&(i.mode?s.progressive(i.mode):s.progressive()),n&&s.lossy(),o&&s.preserveTransparency(),s}};var S=class e{constructor(){this.actions=[]}addAction(t){let r;if(typeof t=="string"){if(t.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";r=new C(t)}else r=t;return this.actions.push(r),this}addTransformation(t){return t instanceof e?this.actions=this.actions.concat(t.actions):this.actions.push(new C(t)),this}toString(){return this.actions.map(t=>t.toString()).filter(t=>t).join("/")}animated(t){return this.addAction(t)}border(t){return this.addAction(t)}reshape(t){return this.addAction(t)}resize(t){return this.addAction(t)}quality(t){return this.addAction(new m("q",t)),this}format(t){return this.addAction(new m("f",t)),this}roundCorners(t){return this.addAction(t)}overlay(t){return this.addAction(t)}underlay(t){return t.setLayerType("u"),this.addAction(t)}addVariable(t){return this.addAction(t)}conditional(t){return this.addAction(t)}effect(t){return this.addAction(t)}adjust(t){return this.addAction(t)}rotate(t){return this.addAction(t)}namedTransformation(t){return this.addAction(t)}delivery(t){return this.addAction(t)}backgroundColor(t){return this.addAction(new O(t))}psdTools(t){return this.addAction(t)}extract(t){return this.addAction(t)}addFlag(t){let r=new h,n=t;return typeof t=="string"&&(n=new a(t)),r.addQualifier(n),this.addAction(r)}customFunction(t){return this.addAction(t)}transcode(t){return this.addAction(t)}videoEdit(t){return this.addAction(t)}toJson(){let t=[];for(let r of this.actions){let n=r.toJson();if(z(n))return n;t.push(n)}return{actions:t}}};var V=class extends S{};function G(e){return e.match(/^https?:\//)}function B(e){return e.indexOf("/")<0}function X(e){return e.match(/^v[0-9]+/)}function Z(e,t){let r=t.secure,n=t.privateCdn,i=t.cname,o=t.secureDistribution;return!r&&!i?`http://res.cloudinary.com/${e}`:r&&!o&&n?`https://${e}-res.cloudinary.com`:r&&!o?`https://res.cloudinary.com/${e}`:r&&o&&n?`https://${o}`:r&&o?`https://${o}/${e}`:!r&&i?`http://${i}/${e}`:"ERROR"}function tt(e){return e||"image"}function et(e){return e||"upload"}function rt(e,t,r){let n=r!==!1;return t?`v${t}`:X(e)||G(e)||B(e)?"":n?"v1":""}function vt(e){return!(typeof e!="object"||e instanceof Array)}var I=class{filterOutNonSupportedKeys(t,r){let n=Object.create({});return vt(t)?(Object.keys(t).forEach(i=>{r.indexOf(i)>=0?n[i]=t[i]:console.warn("Warning - unsupported key provided to configuration: ",i)}),n):Object.create({})}},nt=I;var R=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];var D=class e extends nt{constructor(t){super();let r=this.filterOutNonSupportedKeys(t,R);Object.assign(this,{secure:!0},r)}extend(t){let r=this.filterOutNonSupportedKeys(t,R);return new e(Object.assign({},this,r))}setCname(t){return this.cname=t,this}setSecureDistribution(t){return this.secureDistribution=t,this}setPrivateCdn(t){return this.privateCdn=t,this}setSignUrl(t){return this.signUrl=t,this}setLongUrlSignature(t){return this.longUrlSignature=t,this}setShorten(t){return this.shorten=t,this}setUseRootPath(t){return this.useRootPath=t,this}setSecure(t){return this.secure=t,this}setForceVersion(t){return this.forceVersion=t,this}setQueryParams(t){return this.queryParams=t,this}},it=D;function _(e,t,r){let n=t>>0,i=String(typeof r<"u"?r:" ");return e.length>n?String(e):(n=n-e.length,n>i.length&&(i+=Ct(i,n/i.length)),i.slice(0,n)+String(e))}function Ct(e,t){let r=t,n="";for(;r>0;)n+=e,r--;return n}var Et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v={},ot=0;Et.split("").forEach(e=>{let t=ot.toString(2);t=_(t,6,"0"),v[t]=e,ot++});function st(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().join(".")}function at(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").map(t=>{let r=+t;if(isNaN(r)||r<0)throw"Invalid version number provided";return _(t,2,"0")}).join(".")}function L(e){let t="",n=e.split(".").length*6,i=st(e),o=at(i),u=parseInt(o.split(".").join("")).toString(2);if(u=_(u,n,"0"),u.length%6!==0)throw"Version must be smaller than 43.21.26)";return u.match(/.{1,6}/g).forEach(d=>{t+=v[d]}),t}function ut(e){let t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,product:e.product,feature:"0",osType:e.osType,osVersion:e.osVersion};return e.accessibility&&(t.feature="D"),e.lazyload&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),t}var lt="1.21.0";function ct(e){let[t,r]=e.split("."),n=parseInt(t).toString(2),i=parseInt(r).toString(2),o=n.padStart(6,"0"),s=i.padStart(6,"0");return v[o]+v[s]}function At(){let e="0.0.0";if(typeof window<"u")return e;try{return process.versions.node||e}catch{return e}}function Ot(e){let t={techVersion:At(),sdkCode:"T",sdkSemver:lt.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return e?Object.assign(Object.assign({},t),e):t}function F(e){let t=Ot(e),r=ut(t);try{let n=wt(r.techVersion),i=L(r.sdkSemver),o=L(n),s=ct(r.osVersion),u=r.feature,d=r.sdkCode,{product:p,osType:g}=r;return`D${p}${d}${i}${o}${g}${s}${u}`}catch{return"E"}}function wt(e){let t=e.split(".");return`${t[0]}.${t[1]}`}var dt={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},b=class{constructor(t,r={},n){this.setPublicID(t),this.setCloudConfig(r),this.setURLConfig(n)}setURLConfig(t){return this.urlConfig=new it(t),this}setCloudConfig(t){return this.cloudName=t.cloudName,this.apiKey=t.apiKey,this.apiSecret=t.apiSecret,this.authToken=t.authToken,this}setPublicID(t){return this.publicID=t?t.toString():"",this}setDeliveryType(t){return this.deliveryType=t,this}setSuffix(t){return this.suffix=t,this}setSignature(t){return this.signature=t,this}setVersion(t){return t&&(this.version=t),this}setAssetType(t){return t&&(this.assetType=t),this}sign(){return this}toURL(t={}){return this.createCloudinaryURL(null,t.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";let t=this.suffix&&this.suffix.indexOf(".")>=0,r=this.suffix&&this.suffix.indexOf("/")>=0;if(t||r)throw"`suffix`` should not include . or /"}getResourceType(){let t=tt(this.assetType),r=et(this.deliveryType),n=!!this.suffix,i=`${t}/${r}`,o=dt[`${t}/${r}`],s=this.urlConfig.useRootPath,u=this.urlConfig.shorten;if(s){if(i==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${i} instead`)}if(u&&i==="image/upload")return"iu";if(n){if(o)return o;throw new Error(`URL Suffix only supported for ${Object.keys(dt).join(", ")}, Provided: ${i} instead`)}return i}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(t,r){if(!this.publicID)return"";this.validateAssetForURLCreation();let n=Z(this.cloudName,this.urlConfig),i=t?t.toString():"",o=rt(this.publicID,this.version,this.urlConfig.forceVersion),s=this.publicID;if(typeof t=="string")return[n,this.getResourceType(),this.getSignature(),i,o,s.replace(/,/g,"%2C"),this.suffix].filter(d=>d).join("/");{let u=[encodeURI(n),this.getResourceType(),this.getSignature(),encodeURI(i),o,encodeURI(s).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(g=>g).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),d=this.urlConfig.analytics!==!1&&!s.includes("?"),p="";if(typeof this.urlConfig.queryParams=="object")try{let g=new URLSearchParams(this.urlConfig.queryParams);d&&g.set("_a",F(r)),p=g.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else p=this.urlConfig.queryParams||"",d&&(p+=`${p.length>0?"&":""}_a=${F(r)}`);return p?`${u}?${p}`:u}}};var P=class extends b{constructor(t,r,n,i){super(t,r,n),this.transformation=i}animated(t){return this.transformation.animated(t),this}border(t){return this.transformation.border(t),this}reshape(t){return this.transformation.reshape(t),this}resize(t){return this.transformation.resize(t),this}quality(t){return this.addAction(new m("q",t)),this}format(t){return this.addAction(new m("f",t)),this}roundCorners(t){return this.transformation.roundCorners(t),this}overlay(t){return this.transformation.overlay(t),this}addVariable(t){return this.transformation.addVariable(t),this}conditional(t){return this.transformation.conditional(t),this}effect(t){return this.transformation.effect(t),this}adjust(t){return this.transformation.adjust(t),this}rotate(t){return this.transformation.rotate(t),this}namedTransformation(t){return this.transformation.namedTransformation(t),this}delivery(t){return this.transformation.delivery(t),this}backgroundColor(t){return this.transformation.backgroundColor(t),this}psdTools(t){return this.transformation.psdTools(t),this}extract(t){return this.transformation.extract(t),this}addFlag(t){return this.transformation.addFlag(t),this}customFunction(t){return this.transformation.customFunction(t),this}addAction(t){return this.transformation.addAction(t),this}addTransformation(t){return this.transformation.addTransformation(t),this}toString(){return this.transformation.toString()}underlay(t){return this.transformation.underlay(t),this}toURL(t={}){return this.createCloudinaryURL(this.transformation,t?.trackedAnalytics)}};var j=class extends P{constructor(t,r,n){super(t,r,n,new V)}};var Tt="2.1.2",zr={sdkSemver:Tt,techVersion:N.full,sdkCode:"K"};var Hr=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=U({type:e}),e.\u0275inj=k({imports:[[]]}),e})();export{l as a,c as b,a as c,h as d,oe as e,se as f,ae as g,pt as h,me as i,j,Hr as k};
