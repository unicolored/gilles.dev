import{a as It}from"./chunk-P3OH3ZX6.js";import{fa as Ar}from"./chunk-YVYQ67W6.js";import{Q as jr,W as Er,a as T,b as se,c as At,d as O,e as Ge,ma as Tr}from"./chunk-GBRLF56M.js";var Ye=O((wu,zr)=>{"use strict";function k(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}zr.exports=k;k.prototype._events=void 0;k.prototype._maxListeners=void 0;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(t){if(!La(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};k.prototype.emit=function(t){var e,r,n,i,a,s;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Oe(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(r=this._events[t],Br(r))return!1;if(ie(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Oe(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};k.prototype.addListener=function(t,e){var r;if(!ie(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,ie(e.listener)?e.listener:e),this._events[t]?Oe(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Oe(this._events[t])&&!this._events[t].warned&&(Br(this._maxListeners)?r=k.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(t,e){if(!ie(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this};k.prototype.removeListener=function(t,e){var r,n,i,a;if(!ie(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,n=-1,r===e||ie(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Oe(r)){for(a=i;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};k.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],ie(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this};k.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:ie(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};k.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(ie(e))return 1;if(e)return e.length}return 0};k.listenerCount=function(t,e){return t.listenerCount(e)};function ie(t){return typeof t=="function"}function La(t){return typeof t=="number"}function Oe(t){return typeof t=="object"&&t!==null}function Br(t){return t===void 0}});var Ht=O((Pu,Kr)=>{"use strict";function Wa(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}Kr.exports=Wa});var Gr=O((_u,Jr)=>{"use strict";var $a=Ye(),Qa=Ht();function Fe(t,e,r){this.main=t,this.fn=e,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}Qa(Fe,$a);Fe.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Fe.prototype.getModifiedState=function(t){return this.fn(t)};Fe.prototype.getModifiedRecommendState=function(t){return this.recommendFn(t)};Jr.exports=Fe});var Ze=O((xu,Xr)=>{"use strict";function qa(t){return typeof t!="string"?t:String(t).replace(/^-/,"\\-")}function ka(t){return typeof t!="string"?t:t.replace(/^\\-/,"-")}Xr.exports={escapeFacetValue:qa,unescapeFacetValue:ka}});var tt=O((Ou,Yr)=>{"use strict";function Ma(t){return typeof t=="object"&&t!==null?Dt(Array.isArray(t)?[]:{},t):t}function et(t){return typeof t=="function"||Array.isArray(t)||Object.prototype.toString.call(t)==="[object Object]"}function Dt(t,e){if(t===e)return t;for(var r in e)if(!(!Object.prototype.hasOwnProperty.call(e,r)||r==="__proto__"||r==="constructor")){var n=e[r],i=t[r];typeof i<"u"&&typeof n>"u"||(et(i)&&et(n)?t[r]=Dt(i,n):t[r]=Ma(n))}return t}function Va(t){et(t)||(t={});for(var e=1,r=arguments.length;e<r;e++){var n=arguments[e];et(n)&&Dt(t,n)}return t}Yr.exports=Va});var rt=O((Fu,Zr)=>{"use strict";function Ba(t){return t&&Object.keys(t).length>0}Zr.exports=Ba});var nt=O((ju,en)=>{"use strict";function za(t,e){if(t===null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}en.exports=za});var Ct=O((Eu,tn)=>{"use strict";function je(t){t=t||{},this.params=t.params||[]}je.prototype={constructor:je,addParams:function(t){var e=this.params.slice();return e.push(t),new je({params:e})},removeParams:function(t){return new je({params:this.params.filter(function(e){return e.$$id!==t})})},addFrequentlyBoughtTogether:function(t){return this.addParams(Object.assign({},t,{model:"bought-together"}))},addRelatedProducts:function(t){return this.addParams(Object.assign({},t,{model:"related-products"}))},addTrendingItems:function(t){return this.addParams(Object.assign({},t,{model:"trending-items"}))},addTrendingFacets:function(t){return this.addParams(Object.assign({},t,{model:"trending-facets"}))},addLookingSimilar:function(t){return this.addParams(Object.assign({},t,{model:"looking-similar"}))},_buildQueries:function(t,e){return this.params.filter(function(r){return e[r.$$id]===void 0}).map(function(r){var n=Object.assign({},r,{indexName:t,threshold:r.threshold||0});return delete n.$$id,n})}};tn.exports=je});var Lt=O((Tu,rn)=>{"use strict";function Ut(t,e){this._state=t,this._rawResults={};var r=this;t.params.forEach(function(n){var i=n.$$id;r[i]=e[i],r._rawResults[i]=e[i]})}Ut.prototype={constructor:Ut};rn.exports=Ut});var an=O((Au,nn)=>{"use strict";var it=tt();function at(t){return Object.keys(t).sort().reduce(function(e,r){return e[r]=t[r],e},{})}var L={_getQueries:function(e,r){var n=[];return n.push({indexName:e,params:L._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:e,params:L._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),c=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(c).length>1){var u=s[0].split(c).slice(0,-1).reduce(function(l,f,m){return l.concat({attribute:a.attributes[m],value:m===0?f:[l[l.length-1].value,f].join(c)})},[]);u.forEach(function(o,l){var f=L._getDisjunctiveFacetSearchParams(r,o.attribute,l===0);function m(h){return a.attributes.some(function(g){return g===h.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(h,g){if(Array.isArray(g)){var y=g.filter(function(b){return!m(b)});y.length>0&&h.push(y)}return typeof g=="string"&&!m(g)&&h.push(g),h},[]),d=u[l-1];l>0?f.facetFilters=p.concat(d.attribute+":"+d.value):p.length>0?f.facetFilters=p:delete f.facetFilters,n.push({indexName:e,params:f})})}}),n},_getCompositionQueries:function(e){return[{compositionID:e.index,requestBody:{params:L._getCompositionHitsSearchParams(e)}}]},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(L._getHitsHierarchicalFacetsAttributes(t)).sort(),r=L._getFacetFilters(t),n=L._getNumericFilters(t),i=L._getTagFilters(t),a={};return e.length>0&&(a.facets=e.indexOf("*")>-1?["*"]:e),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),at(it({},t.getQueryParams(),a))},_getCompositionHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets.map(function(c){return"disjunctive("+c+")"})).concat(L._getHitsHierarchicalFacetsAttributes(t)).sort(),r=L._getFacetFilters(t),n=L._getNumericFilters(t),i=L._getTagFilters(t),a={};e.length>0&&(a.facets=e.indexOf("*")>-1?["*"]:e),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n);var s=t.getQueryParams();return delete s.highlightPreTag,delete s.highlightPostTag,delete s.index,at(it({},s,a))},_getDisjunctiveFacetSearchParams:function(t,e,r){var n=L._getFacetFilters(t,e,r),i=L._getNumericFilters(t,e),a=L._getTagFilters(t),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var c=t.getHierarchicalFacetByName(e);return c?s.facets=L._getDisjunctiveHierarchicalFacetAttribute(t,c,r):s.facets=e,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),at(it({},t.getQueryParams(),s))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var r=[];return Object.keys(t.numericRefinements).forEach(function(n){var i=t.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];e!==n&&s.forEach(function(c){if(Array.isArray(c)){var u=c.map(function(o){return n+a+o});r.push(u)}else r.push(n+a+c)})})}),r},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,r){var n=[],i=t.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var o=i[u]||[];o.slice().sort().forEach(function(l){n.push(u+":"+l)})});var a=t.facetsExcludes||{};Object.keys(a).sort().forEach(function(u){var o=a[u]||[];o.sort().forEach(function(l){n.push(u+":-"+l)})});var s=t.disjunctiveFacetsRefinements||{};Object.keys(s).sort().forEach(function(u){var o=s[u]||[];if(!(u===e||!o||o.length===0)){var l=[];o.slice().sort().forEach(function(f){l.push(u+":"+f)}),n.push(l)}});var c=t.hierarchicalFacetsRefinements||{};return Object.keys(c).sort().forEach(function(u){var o=c[u]||[],l=o[0];if(l!==void 0){var f=t.getHierarchicalFacetByName(u),m=t._getHierarchicalFacetSeparator(f),p=t._getHierarchicalRootPath(f),d,h;if(e===u){if(l.indexOf(m)===-1||!p&&r===!0||p&&p.split(m).length===l.split(m).length)return;p?(h=p.split(m).length-1,l=p):(h=l.split(m).length-2,l=l.slice(0,l.lastIndexOf(m))),d=f.attributes[h]}else h=l.split(m).length-1,d=f.attributes[h];d&&n.push([d+":"+l])}}),n},_getHitsHierarchicalFacetsAttributes:function(t){var e=[];return t.hierarchicalFacets.reduce(function(n,i){var a=t.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=t._getHierarchicalFacetSeparator(i),c=a.split(s).length,u=i.attributes.slice(0,c+1);return n.concat(u)},e)},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,r){var n=t._getHierarchicalFacetSeparator(e);if(r===!0){var i=t._getHierarchicalRootPath(e),a=0;return i&&(a=i.split(n).length),[e.attributes[a]]}var s=t.getHierarchicalRefinement(e.name)[0]||"",c=s.split(n).length-1;return e.attributes.slice(0,c+1)},getSearchForFacetQuery:function(t,e,r,n){var i=n.isDisjunctiveFacet(t)?n.clearRefinements(t):n,a={facetQuery:e,facetName:t};return typeof r=="number"&&(a.maxFacetHits=r),at(it({},L._getHitsSearchParams(i),a))}};nn.exports=L});var st=O((Iu,sn)=>{"use strict";sn.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})}});var Re=O((Nu,on)=>{"use strict";on.exports=function(e,r){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(r(e[n]))return e[n]}}});var un=O((Hu,cn)=>{"use strict";function Ka(t,e){return t.filter(function(r,n){return e.indexOf(r)>-1&&t.indexOf(r)===n})}cn.exports=Ka});var hn=O((Du,fn)=>{"use strict";function ln(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(ln);throw new Error("The value should be a number, a parsable string or an array of those.")}fn.exports=ln});var mn=O((Cu,dn)=>{"use strict";dn.exports=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)}});var gn=O((Uu,pn)=>{"use strict";var Ja=st(),Ga=rt(),Xa=nt(),he={addRefinement:function(e,r,n){if(he.isRefined(e,r,n))return e;var i=""+n,a=e[r]?e[r].concat(i):[i],s={};return s[r]=a,Ja(s,e)},removeRefinement:function(e,r,n){if(n===void 0)return he.clearRefinement(e,function(a,s){return r===s});var i=""+n;return he.clearRefinement(e,function(a,s){return r===s&&i===a})},toggleRefinement:function(e,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return he.isRefined(e,r,n)?he.removeRefinement(e,r,n):he.addRefinement(e,r,n)},clearRefinement:function(e,r,n){if(r===void 0)return Ga(e)?{}:e;if(typeof r=="string")return Xa(e,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(e).reduce(function(s,c){var u=e[c]||[],o=u.filter(function(l){return!r(l,c,n)});return o.length!==u.length&&(i=!0),s[c]=o,s},{});return i?a:e}},isRefined:function(e,r,n){var i=!!e[r]&&e[r].length>0;if(n===void 0||!i)return i;var a=""+n;return e[r].indexOf(a)!==-1}};pn.exports=he});var Mt=O((Lu,Rn)=>{"use strict";var Wt=st(),bn=Re(),vn=un(),Qt=tt(),qt=rt(),yn=nt(),$t=hn(),Ya=mn(),N=gn();function kt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(r,n){return kt(e[n],r)}):t===e}function Za(t,e){return bn(t,function(r){return kt(r,e)})}function z(t){var e=t?z._parseNumbers(t):{};e.userToken!==void 0&&!Ya(e.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var r=this;Object.keys(e).forEach(function(n){var i=z.PARAMETERS.indexOf(n)!==-1,a=e[n]!==void 0;!i&&a&&(r[n]=e[n])})}z.PARAMETERS=Object.keys(new z);z._parseNumbers=function(t){if(t instanceof z)return t;var e={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=t[i];if(typeof a=="string"){var s=parseFloat(a);e[i]=isNaN(s)?a:s}}),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),t.numericRefinements){var n={};Object.keys(t.numericRefinements).forEach(function(i){var a=t.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var c=a[s],u=c.map(function(o){return Array.isArray(o)?o.map(function(l){return typeof l=="string"?parseFloat(l):l}):typeof o=="string"?parseFloat(o):o});n[i][s]=u})}),e.numericRefinements=n}return Qt(t,e)};z.make=function(e){var r=new z(e),n=e.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};z.validate=function(t,e){var r=e||{};return t.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&r.numericRefinements&&qt(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):qt(t.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};z.prototype={constructor:z,clearRefinements:function(e){var r={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:N.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:N.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:N.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:N.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(t,e,r){var n=$t(r);if(this.isNumericRefined(t,e,n))return this;var i=Qt({},this.numericRefinements);return i[t]=Qt({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(n)):i[t][e]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsRefinements[t]||[]:[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)?this.disjunctiveFacetsRefinements[t]||[]:[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsExcludes[t]||[]:[]},removeNumericRefinement:function(t,e,r){var n=r;return n!==void 0?this.isNumericRefined(t,e,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t&&i.op===e&&kt(i.val,$t(n))})}):this:e!==void 0?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t&&i.op===e})}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===t})}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(e){if(e===void 0)return qt(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return yn(this.numericRefinements,[e]);if(typeof e=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var c=n[s],u={};return c=c||{},Object.keys(c).forEach(function(o){var l=c[o]||[],f=[];l.forEach(function(m){var p=e({val:m,op:o},s,"numeric");p||f.push(m)}),f.length!==l.length&&(r=!0),u[o]=f}),a[s]=u,a},{});return r?i:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsRefinements,e,r)?this:this.setQueryParameters({facetsRefinements:N.addRefinement(this.facetsRefinements,e,r)})},addExcludeRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsExcludes,e,r)?this:this.setQueryParameters({facetsExcludes:N.addRefinement(this.facetsExcludes,e,r)})},addDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return N.isRefined(this.disjunctiveFacetsRefinements,e,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:N.addRefinement(this.disjunctiveFacetsRefinements,e,r)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var r={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(r)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(r){return r!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==e})}):this},removeFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsRefinements,e,r)?this.setQueryParameters({facetsRefinements:N.removeRefinement(this.facetsRefinements,e,r)}):this},removeExcludeRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return N.isRefined(this.facetsExcludes,e,r)?this.setQueryParameters({facetsExcludes:N.removeRefinement(this.facetsExcludes,e,r)}):this},removeDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return N.isRefined(this.disjunctiveFacetsRefinements,e,r)?this.setQueryParameters({disjunctiveFacetsRefinements:N.removeRefinement(this.disjunctiveFacetsRefinements,e,r)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==e})};return this.setQueryParameters(r)},toggleRefinement:function(e,r){return this.toggleFacetRefinement(e,r)},toggleFacetRefinement:function(e,r){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,r);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,r);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,r);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:N.toggleRefinement(this.facetsRefinements,e,r)})},toggleExcludeFacetRefinement:function(e,r){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:N.toggleRefinement(this.facetsExcludes,e,r)})},toggleDisjunctiveFacetRefinement:function(e,r){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:N.toggleRefinement(this.disjunctiveFacetsRefinements,e,r)})},toggleHierarchicalFacetRefinement:function(e,r){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={},a=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===r||this.hierarchicalFacetsRefinements[e][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[e]=[]:i[e]=[r.slice(0,r.lastIndexOf(n))]:i[e]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:Wt(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:Wt(r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Wt(e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return this.getHierarchicalFacetByName(t)!==void 0},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(e,r){return this.isConjunctiveFacet(e)?N.isRefined(this.facetsRefinements,e,r):!1},isExcludeRefined:function(e,r){return this.isConjunctiveFacet(e)?N.isRefined(this.facetsExcludes,e,r):!1},isDisjunctiveFacetRefined:function(e,r){return this.isDisjunctiveFacet(e)?N.isRefined(this.disjunctiveFacetsRefinements,e,r):!1},isHierarchicalFacetRefined:function(e,r){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(e,r,n){if(n===void 0&&r===void 0)return!!this.numericRefinements[e];var i=this.numericRefinements[e]&&this.numericRefinements[e][r]!==void 0;if(n===void 0||!i)return i;var a=$t(n),s=Za(this.numericRefinements[e][r],a)!==void 0;return i&&s},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,r=vn(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(e.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return e.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return vn(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return e.hierarchicalFacetsRefinements[r].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return t.indexOf(e)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];e.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(e,r){if(this[e]===r)return this;var n={};return n[e]=r,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var r=z.validate(this,e);if(r)throw r;var n=this,i=z._parseNumbers(e),a=Object.keys(this).reduce(function(c,u){return c[u]=n[u],c},{}),s=Object.keys(i).reduce(function(c,u){var o=c[u]!==void 0,l=i[u]!==void 0;return o&&!l?yn(c,[u]):(l&&(c[u]=i[u]),c)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return typeof t.showParentLevel=="boolean"?t.showParentLevel:!0},getHierarchicalFacetByName:function(t){return bn(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),n=e.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};Rn.exports=z});var wn=O((Wu,Sn)=>{"use strict";Sn.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}});var _n=O(($u,Pn)=>{"use strict";Pn.exports=function(e,r){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(r(e[n]))return n;return-1}});var Vt=O((Qu,xn)=>{"use strict";var es=Re();xn.exports=function(e,r){var n=(r||[]).map(function(i){return i.split(":")});return e.reduce(function(a,s){var c=s.split(":"),u=es(n,function(o){return o[0]===c[0]});return c.length>1||!u?(a[0].push(c[0]),a[1].push(c[1]),a):(a[0].push(u[0]),a[1].push(u[1]),a)},[[],[]])}});var Fn=O((qu,On)=>{"use strict";function ts(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(e,r){return Object.keys(Object(r)).forEach(function(n){var i=typeof e[n]=="number"?e[n]:0,a=r[n];a!==void 0&&a>=i&&(e[n]!==void 0&&delete e[n],e[n]=a)}),e},{})}On.exports=ts});var Bt=O((ku,jn)=>{"use strict";function rs(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=e!==void 0,a=e===null;if(!a&&t>e||n&&i||!r)return 1;if(!n&&t<e||a&&r||!i)return-1}return 0}function ns(t,e,r){if(!Array.isArray(t))return[];Array.isArray(r)||(r=[]);var n=t.map(function(i,a){return{criteria:e.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var c=-1;++c<a.criteria.length;){var u=rs(a.criteria[c],s.criteria[c]);if(u)return c>=r.length?u:r[c]==="desc"?-u:u}return a.index-s.index}),n.map(function(i){return i.value})}jn.exports=ns});var An=O((Mu,Tn)=>{"use strict";Tn.exports=us;var En=Ze(),is=Re(),as=Vt(),ss=Bt(),os=En.escapeFacetValue,cs=En.unescapeFacetValue;function us(t){return function(r,n){var i=t.hierarchicalFacets[n],a=t.hierarchicalFacetsRefinements[i.name]&&t.hierarchicalFacetsRefinements[i.name][0]||"",s=t._getHierarchicalFacetSeparator(i),c=t._getHierarchicalRootPath(i),u=t._getHierarchicalShowParentLevel(i),o=as(t._getHierarchicalFacetSortBy(i)),l=r.every(function(p){return p.exhaustive}),f=ls(o,s,c,u,a),m=r;return c&&(m=r.slice(c.split(s).length)),m.reduce(f,{name:t.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:l,data:null})}}function ls(t,e,r,n,i){return function(s,c,u){var o=s;if(u>0){var l=0;for(o=s;l<u;){var f=o&&Array.isArray(o.data)?o.data:[];o=is(f,function(p){return p.isRefined}),l++}}if(o){var m=Object.keys(c.data).map(function(p){return[p,c.data[p]]}).filter(function(p){var d=p[0];return fs(d,o.path||r,i,e,r,n)});o.data=ss(m.map(function(p){var d=p[0],h=p[1];return hs(h,d,e,cs(i),c.exhaustive)}),t[0],t[1])}return s}}function fs(t,e,r,n,i,a){return i&&(t.indexOf(i)!==0||i===t)?!1:!i&&t.indexOf(n)===-1||i&&t.split(n).length-i.split(n).length===1||t.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(t)===0||t.indexOf(e+n)===0&&(a||t.indexOf(r)===0)}function hs(t,e,r,n,i){var a=e.split(r);return{name:a[a.length-1].trim(),path:e,escapedValue:os(e),count:t,isRefined:n===e||n.indexOf(e+r)===0,exhaustive:i,data:null}}});var Gt=O((Vu,Qn)=>{"use strict";var zt=wn(),Te=st(),Cn=Ze(),K=Re(),Ee=_n(),ds=Vt(),In=Fn(),Un=Bt(),Nn=Cn.escapeFacetValue,Ln=Cn.unescapeFacetValue,ms=An();function Hn(t){var e={};return t.forEach(function(r,n){e[r]=n}),e}function Kt(t,e,r){e&&e[r]&&(t.stats=e[r])}function ps(t,e){return K(t,function(n){var i=n.attributes||[];return i.indexOf(e)>-1})}function oe(t,e,r){var n=e[0]||{};this._rawResults=e;var i=this;Object.keys(n).forEach(function(f){i[f]=n[f]});var a=Te(r,{persistHierarchicalRootCount:!1});Object.keys(a).forEach(function(f){i[f]=a[f]}),this.processingTimeMS=e.reduce(function(f,m){return m.processingTimeMS===void 0?f:f+m.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map(function(){return[]}),this.facets=[];var s=t.getRefinedDisjunctiveFacets(),c=Hn(t.facets),u=Hn(t.disjunctiveFacets),o=1,l=n.facets||{};Object.keys(l).forEach(function(f){var m=l[f],p=ps(t.hierarchicalFacets,f);if(p){var d=p.attributes.indexOf(f),h=Ee(t.hierarchicalFacets,function(S){return S.name===p.name});i.hierarchicalFacets[h][d]={attribute:f,data:m,exhaustive:n.exhaustiveFacetsCount}}else{var g=t.disjunctiveFacets.indexOf(f)!==-1,y=t.facets.indexOf(f)!==-1,b;g&&(b=u[f],i.disjunctiveFacets[b]={name:f,data:m,exhaustive:n.exhaustiveFacetsCount},Kt(i.disjunctiveFacets[b],n.facets_stats,f)),y&&(b=c[f],i.facets[b]={name:f,data:m,exhaustive:n.exhaustiveFacetsCount},Kt(i.facets[b],n.facets_stats,f))}}),this.hierarchicalFacets=zt(this.hierarchicalFacets),s.forEach(function(f){var m=e[o],p=m&&m.facets?m.facets:{},d=t.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(h){var g=p[h],y;if(d){y=Ee(t.hierarchicalFacets,function(R){return R.name===d.name});var b=Ee(i.hierarchicalFacets[y],function(R){return R.attribute===h});if(b===-1)return;i.hierarchicalFacets[y][b].data=i.persistHierarchicalRootCount?In(i.hierarchicalFacets[y][b].data,g):Te(g,i.hierarchicalFacets[y][b].data)}else{y=u[h];var S=n.facets&&n.facets[h]||{};i.disjunctiveFacets[y]={name:h,data:In(S,g),exhaustive:m.exhaustiveFacetsCount},Kt(i.disjunctiveFacets[y],m.facets_stats,h),t.disjunctiveFacetsRefinements[h]&&t.disjunctiveFacetsRefinements[h].forEach(function(R){!i.disjunctiveFacets[y].data[R]&&t.disjunctiveFacetsRefinements[h].indexOf(Ln(R))>-1&&(i.disjunctiveFacets[y].data[R]=0)})}}),o++}),t.getRefinedHierarchicalFacets().forEach(function(f){var m=t.getHierarchicalFacetByName(f),p=t._getHierarchicalFacetSeparator(m),d=t.getHierarchicalRefinement(f);d.length===0||d[0].split(p).length<2||e.slice(o).forEach(function(h){var g=h&&h.facets?h.facets:{};Object.keys(g).forEach(function(y){var b=g[y],S=Ee(t.hierarchicalFacets,function(A){return A.name===m.name}),R=Ee(i.hierarchicalFacets[S],function(A){return A.attribute===y});if(R!==-1){var w={};if(d.length>0&&!i.persistHierarchicalRootCount){var I=d[0].split(p)[0];w[I]=i.hierarchicalFacets[S][R].data[I]}i.hierarchicalFacets[S][R].data=Te(w,b,i.hierarchicalFacets[S][R].data)}}),o++})}),Object.keys(t.facetsExcludes).forEach(function(f){var m=t.facetsExcludes[f],p=c[f];i.facets[p]={name:f,data:l[f],exhaustive:n.exhaustiveFacetsCount},m.forEach(function(d){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[d]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(ms(t)),this.facets=zt(this.facets),this.disjunctiveFacets=zt(this.disjunctiveFacets),this._state=t}oe.prototype.getFacetByName=function(t){function e(r){return r.name===t}return K(this.facets,e)||K(this.disjunctiveFacets,e)||K(this.hierarchicalFacets,e)};function gs(t,e){function r(l){return l.name===e}if(t._state.isConjunctiveFacet(e)){var n=K(t.facets,r);return n?Object.keys(n.data).map(function(l){var f=Nn(l);return{name:l,escapedValue:f,count:n.data[l],isRefined:t._state.isFacetRefined(e,f),isExcluded:t._state.isExcludeRefined(e,l)}}):[]}else if(t._state.isDisjunctiveFacet(e)){var i=K(t.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(l){var f=Nn(l);return{name:l,escapedValue:f,count:i.data[l],isRefined:t._state.isDisjunctiveFacetRefined(e,f)}}):[]}else if(t._state.isHierarchicalFacet(e)){var a=K(t.hierarchicalFacets,r);if(!a)return a;var s=t._state.getHierarchicalFacetByName(e),c=t._state._getHierarchicalFacetSeparator(s),u=Ln(t._state.getHierarchicalRefinement(e)[0]||"");u.indexOf(s.rootPath)===0&&(u=u.replace(s.rootPath+c,""));var o=u.split(c);return o.unshift(e),Wn(a,o,0),a}}function Wn(t,e,r){t.isRefined=t.name===(e[r]&&e[r].trim()),t.data&&t.data.forEach(function(n){Wn(n,e,r+1)})}function $n(t,e,r,n){if(n=n||0,Array.isArray(e))return t(e,r[n]);if(!e.data||e.data.length===0)return e;var i=e.data.map(function(c){return $n(t,c,r,n+1)}),a=t(i,r[n]),s=Te({data:a},e);return s}oe.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function vs(t,e){return e.sort(t)}function ys(t,e){var r=[],n=[],i=e.hide||[],a=e.order||[],s=a.reduce(function(o,l,f){return o[l]=f,o},{});t.forEach(function(o){var l=o.path||o.name,f=i.indexOf(l)>-1;!f&&s[l]!==void 0?r[s[l]]=o:f||n.push(o)}),r=r.filter(function(o){return o});var c=e.sortRemainingBy,u;return c==="hidden"?r:(c==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],r.concat(Un(n,u[0],u[1])))}function bs(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}oe.prototype.getFacetValues=function(t,e){var r=gs(this,t);if(r){var n=Te(e,{sortBy:oe.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),i=this,a;if(Array.isArray(r))a=[t];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return $n(function(c,u){if(n.facetOrdering){var o=bs(i,u);if(o)return ys(c,o)}if(Array.isArray(n.sortBy)){var l=ds(n.sortBy,oe.DEFAULT_SORT);return Un(c,l[0],l[1])}else if(typeof n.sortBy=="function")return vs(n.sortBy,c);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};oe.prototype.getFacetStats=function(t){if(this._state.isConjunctiveFacet(t))return Dn(this.facets,t);if(this._state.isDisjunctiveFacet(t))return Dn(this.disjunctiveFacets,t)};function Dn(t,e){var r=K(t,function(n){return n.name===e});return r&&r.stats}oe.prototype.getRefinements=function(){var t=this._state,e=this,r=[];return Object.keys(t.facetsRefinements).forEach(function(n){t.facetsRefinements[n].forEach(function(i){r.push(Jt(t,"facet",n,i,e.facets))})}),Object.keys(t.facetsExcludes).forEach(function(n){t.facetsExcludes[n].forEach(function(i){r.push(Jt(t,"exclude",n,i,e.facets))})}),Object.keys(t.disjunctiveFacetsRefinements).forEach(function(n){t.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(Jt(t,"disjunctive",n,i,e.disjunctiveFacets))})}),Object.keys(t.hierarchicalFacetsRefinements).forEach(function(n){t.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(Rs(t,n,i,e.hierarchicalFacets))})}),Object.keys(t.numericRefinements).forEach(function(n){var i=t.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),t.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function Jt(t,e,r,n,i){var a=K(i,function(u){return u.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,c=a&&a.exhaustive||!1;return{type:e,attributeName:r,name:n,count:s,exhaustive:c}}function Rs(t,e,r,n){var i=t.getHierarchicalFacetByName(e),a=t._getHierarchicalFacetSeparator(i),s=r.split(a),c=K(n,function(m){return m.name===e}),u=s.reduce(function(m,p){var d=m&&K(m.data,function(h){return h.name===p});return d!==void 0?d:m},c),o=u&&u.count||0,l=u&&u.exhaustive||!1,f=u&&u.path||"";return{type:"hierarchical",attributeName:e,name:f,count:o,exhaustive:l}}Qn.exports=oe});var kn=O((Bu,qn)=>{"use strict";qn.exports=function(e){return e.reduce(function(r,n){return r.concat(n)},[])}});var Vn=O((zu,Mn)=>{"use strict";var Ss=Re(),ws=kn();function Ps(t,e){var r=[];return Object.keys(t).forEach(function(n){t[n].count<2&&(t[n].indexSum+=100),r.push({objectID:n,avgOfIndices:t[n].indexSum/e})}),r.sort(function(n,i){return n.avgOfIndices>i.avgOfIndices?1:-1})}function _s(t){var e={};t.forEach(function(i){i.forEach(function(a,s){e[a.objectID]?e[a.objectID]={indexSum:e[a.objectID].indexSum+s,count:e[a.objectID].count+1}:e[a.objectID]={indexSum:s,count:1}})});var r=Ps(e,t.length),n=r.reduce(function(i,a){var s=Ss(ws(t),function(c){return c.objectID===a.objectID});return s?i.concat(s):i},[]);return n}Mn.exports=_s});var Xt=O((Ku,Bn)=>{"use strict";Bn.exports="3.24.2"});var Zn=O((Ju,Yn)=>{"use strict";var xs=Ye(),Os=Gr(),zn=Ze().escapeFacetValue,Fs=Ht(),js=tt(),Es=rt(),Ts=nt(),Kn=Ct(),As=Lt(),ce=an(),Zt=Mt(),Yt=Gt(),Is=Vn(),Jn=Xt();function v(t,e,r,n){typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+Jn+")"),this.setClient(t);var i=r||{};i.index=e,this.state=Zt.make(i),this.recommendState=new Kn({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}Fs(v,xs);v.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};v.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};v.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};v.prototype.recommend=function(){return this._recommend(),this};v.prototype.getQuery=function(){var t=this.state;return ce._getHitsSearchParams(t)};v.prototype.searchOnce=function(t,e){var r=t?this.state.setQueryParameters(t):this.state,n=ce._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),e){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(null,new Yt(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Yt(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};v.prototype.findAnswers=function(t){console.warn("[algoliasearch-helper] answers is no longer supported");var e=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(e),i=js({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:Ts(ce._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,t.queryLanguages,i)};v.prototype.searchForFacetValues=function(t,e,r,n){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),c=s.isDisjunctiveFacet(t),u=ce.getSearchForFacetQuery(t,e,r,s);this._currentNbQueries++;var o=this,l;return i?l=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?l=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,l=this.client.search([{type:"facet",facet:t,indexName:s.index,params:u}]).then(function(m){return m.results[0]})),this.emit("searchForFacetValues",{state:s,facet:t,query:e}),l.then(function(m){return o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),m=Array.isArray(m)?m[0]:m,m.facetHits.forEach(function(p){p.escapedValue=zn(p.value),p.isRefined=c?s.isDisjunctiveFacetRefined(t,p.escapedValue):s.isFacetRefined(t,p.escapedValue)}),m},function(f){throw o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),f})};v.prototype.searchForCompositionFacetValues=function(t,e,r,n){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(t);this._currentNbQueries++;var s=this,c;return c=this.client.searchForFacetValues({compositionID:i.index,facetName:t,searchForFacetValuesRequest:{params:{query:e,maxFacetHits:r,searchQuery:ce._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:t,query:e}),c.then(function(o){return s._currentNbQueries--,s._currentNbQueries===0&&s.emit("searchQueueEmpty"),o=o.results[0],o.facetHits.forEach(function(l){l.escapedValue=zn(l.value),l.isRefined=a?i.isDisjunctiveFacetRefined(t,l.escapedValue):i.isFacetRefined(t,l.escapedValue)}),o},function(u){throw s._currentNbQueries--,s._currentNbQueries===0&&s.emit("searchQueueEmpty"),u})};v.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this};v.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this};v.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};v.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};v.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.addNumericRefinement=function(t,e,r){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,r),isPageReset:!0}),this};v.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};v.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this};v.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};v.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this};v.prototype.addFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(t)}),this};v.prototype.addRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.addRelatedProducts(t)}),this};v.prototype.addTrendingItems=function(t){return this._recommendChange({state:this.recommendState.addTrendingItems(t)}),this};v.prototype.addTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.addTrendingFacets(t)}),this};v.prototype.addLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.addLookingSimilar(t)}),this};v.prototype.removeNumericRefinement=function(t,e,r){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,r),isPageReset:!0}),this};v.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};v.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this};v.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};v.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this};v.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};v.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this};v.prototype.removeFrequentlyBoughtTogether=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeRelatedProducts=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeTrendingItems=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeTrendingFacets=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.removeLookingSimilar=function(t){return this._recommendChange({state:this.recommendState.removeParams(t)}),this};v.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};v.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)};v.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this};v.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};v.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this};v.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)};v.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)};function Gn(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}v.prototype.setCurrentPage=Gn;v.prototype.setPage=Gn;v.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this};v.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this};v.prototype.setState=function(t){return this._change({state:Zt.make(t),isPageReset:!1}),this};v.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new Zt(t),this};v.prototype.hasRefinements=function(t){return Es(this.state.getNumericRefinements(t))?!0:this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):this.state.isHierarchicalFacet(t)?this.state.isHierarchicalFacetRefined(t):!1};v.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)};v.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)};v.prototype.hasTag=function(t){return this.state.isTagRefined(t)};v.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};v.prototype.getIndex=function(){return this.state.index};function Xn(){return this.state.page}v.prototype.getCurrentPage=Xn;v.prototype.getPage=Xn;v.prototype.getTags=function(){return this.state.tagRefinements};v.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t)){var r=this.state.getConjunctiveRefinements(t);r.forEach(function(s){e.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(t);n.forEach(function(s){e.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(t)){var i=this.state.getDisjunctiveRefinements(t);i.forEach(function(s){e.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(t);return Object.keys(a).forEach(function(s){var c=a[s];e.push({value:c,operator:s,type:"numeric"})}),e};v.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)};v.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)};v.prototype._search=function(t){var e=this.state,r=[],n=[];t.onlyWithDerivedHelpers||(n=ce._getQueries(e.index,e),r.push({state:e,queriesCount:n.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map(function(c){var u=c.getModifiedState(e),o=u.index?ce._getQueries(u.index,u):[];return r.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;if(this._currentNbQueries++,!a.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,s));try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(c){this.emit("error",{error:c})}};v.prototype._runComposition=function(){var t=this.state,e=[],r=[],n=this.derivedHelpers.map(function(c){var u=c.getModifiedState(t),o=ce._getCompositionQueries(u);return e.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),i=Array.prototype.concat.apply(r,n),a=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,e,a));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var s=i[0];try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,e,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(c){this.emit("error",{error:c})}};v.prototype._recommend=function(){var t=this.state,e=this.recommendState,r=this.getIndex(),n=[{state:e,index:r,helper:this}],i=e.params.map(function(o){return o.$$id});this.emit("fetch",{recommend:{state:e,results:this.lastRecommendResults}});var a=this._recommendCache,s=this.derivedHelpers.map(function(o){var l=o.getModifiedState(t).index;if(!l)return[];var f=o.getModifiedRecommendState(new Kn);return n.push({state:f,index:l,helper:o}),i=Array.prototype.concat.apply(i,f.params.map(function(m){return m.$$id})),o.emit("fetch",{recommend:{state:f,results:o.lastRecommendResults}}),f._buildQueries(l,a)}),c=Array.prototype.concat.apply(this.recommendState._buildQueries(r,a),s);if(c.length!==0){if(c.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var u=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(c).then(this._dispatchRecommendResponse.bind(this,u,n,i)).catch(this._dispatchRecommendError.bind(this,u))}catch(o){this.emit("error",{error:o})}}};v.prototype._dispatchAlgoliaResponse=function(t,e,r){var n=this;if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=r.results.slice(),a=Object.keys(r).reduce(function(s,c){return c!=="results"&&(s[c]=r[c]),s},{});Object.keys(a).length<=0&&(a=void 0),t.forEach(function(s){var c=s.state,u=s.queriesCount,o=s.helper,l=i.splice(0,u);if(!c.index){o.emit("result",{results:null,state:c});return}o.lastResults=new Yt(c,l,n._searchResultsOptions),a!==void 0&&(o.lastResults._rawContent=a),o.emit("result",{results:o.lastResults,state:c})})}};v.prototype._dispatchRecommendResponse=function(t,e,r,n){if(!(t<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,a={};r.filter(function(c){return i[c]===void 0}).forEach(function(c,u){a[c]||(a[c]=[]),a[c].push(u)}),Object.keys(a).forEach(function(c){var u=a[c],o=n.results[u[0]];if(u.length===1){i[c]=o;return}i[c]=Object.assign({},o,{hits:Is(u.map(function(l){return n.results[l].hits}))})});var s={};r.forEach(function(c){s[c]=i[c]}),e.forEach(function(c){var u=c.state,o=c.helper;if(!c.index){o.emit("recommend:result",{results:null,state:u});return}o.lastRecommendResults=new As(u,s),o.emit("recommend:result",{recommend:{results:o.lastRecommendResults,state:u}})})}};v.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};v.prototype._dispatchRecommendError=function(t,e){t<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=t-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};v.prototype.containsRefinement=function(t,e,r,n){return t||e.length!==0||r.length!==0||n.length!==0};v.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0};v.prototype._change=function(t){var e=t.state,r=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};v.prototype._recommendChange=function(t){var e=t.state;e!==this.recommendState&&(this.recommendState=e,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};v.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};v.prototype.setClient=function(t){return this.client===t?this:(typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+Jn+")"),this.client=t,this)};v.prototype.getClient=function(){return this.client};v.prototype.derive=function(t,e){var r=new Os(this,t,e);return this.derivedHelpers.push(r),r};v.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(e===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)};v.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};Yn.exports=v});var er=O((Gu,ti)=>{"use strict";var ei=Zn(),Ns=Ct(),Hs=Lt(),Ds=Mt(),Cs=Gt();function de(t,e,r,n){return new ei(t,e,r,n)}de.version=Xt();de.AlgoliaSearchHelper=ei;de.SearchParameters=Ds;de.RecommendParameters=Ns;de.SearchResults=Cs;de.RecommendResults=Hs;ti.exports=de});var Rt=O((wf,Ui)=>{"use strict";var Go=String.prototype.replace,Xo=/%20/g,hr={RFC1738:"RFC1738",RFC3986:"RFC3986"};Ui.exports={default:hr.RFC3986,formatters:{RFC1738:function(t){return Go.call(t,Xo,"+")},RFC3986:function(t){return String(t)}},RFC1738:hr.RFC1738,RFC3986:hr.RFC3986}});var mr=O((Pf,Wi)=>{"use strict";var Yo=Rt(),dr=Object.prototype.hasOwnProperty,ge=Array.isArray,ee=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Zo=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(ge(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Li=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},ec=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(ge(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!dr.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return ge(e)&&!ge(r)&&(i=Li(e,n)),ge(e)&&ge(r)?(r.forEach(function(a,s){if(dr.call(e,s)){var c=e[s];c&&typeof c=="object"&&a&&typeof a=="object"?e[s]=t(c,a,n):e.push(a)}else e[s]=a}),e):Object.keys(r).reduce(function(a,s){var c=r[s];return dr.call(a,s)?a[s]=t(a[s],c,n):a[s]=c,a},i)},tc=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},rc=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},nc=function(e,r,n,i,a){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var c="",u=0;u<s.length;++u){var o=s.charCodeAt(u);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===Yo.RFC1738&&(o===40||o===41)){c+=s.charAt(u);continue}if(o<128){c=c+ee[o];continue}if(o<2048){c=c+(ee[192|o>>6]+ee[128|o&63]);continue}if(o<55296||o>=57344){c=c+(ee[224|o>>12]+ee[128|o>>6&63]+ee[128|o&63]);continue}u+=1,o=65536+((o&1023)<<10|s.charCodeAt(u)&1023),c+=ee[240|o>>18]+ee[128|o>>12&63]+ee[128|o>>6&63]+ee[128|o&63]}return c},ic=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],c=Object.keys(s),u=0;u<c.length;++u){var o=c[u],l=s[o];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:o}),n.push(l))}return Zo(r),e},ac=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},sc=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},oc=function(e,r){return[].concat(e,r)},cc=function(e,r){if(ge(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};Wi.exports={arrayToObject:Li,assign:tc,combine:oc,compact:ic,decode:rc,encode:nc,isBuffer:sc,isRegExp:ac,maybeMap:cc,merge:ec}});var Mi=O((_f,ki)=>{"use strict";var pr=mr(),Le=Rt(),uc=Object.prototype.hasOwnProperty,$i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ve=Array.isArray,lc=String.prototype.split,fc=Array.prototype.push,qi=function(t,e){fc.apply(t,ve(e)?e:[e])},hc=Date.prototype.toISOString,Qi=Le.default,$={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:pr.encode,encodeValuesOnly:!1,format:Qi,formatter:Le.formatters[Qi],indices:!1,serializeDate:function(e){return hc.call(e)},skipNulls:!1,strictNullHandling:!1},dc=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mc=function t(e,r,n,i,a,s,c,u,o,l,f,m,p,d){var h=e;if(typeof c=="function"?h=c(r,h):h instanceof Date?h=l(h):n==="comma"&&ve(h)&&(h=pr.maybeMap(h,function(P){return P instanceof Date?l(P):P})),h===null){if(i)return s&&!p?s(r,$.encoder,d,"key",f):r;h=""}if(dc(h)||pr.isBuffer(h)){if(s){var g=p?r:s(r,$.encoder,d,"key",f);if(n==="comma"&&p){for(var y=lc.call(String(h),","),b="",S=0;S<y.length;++S)b+=(S===0?"":",")+m(s(y[S],$.encoder,d,"value",f));return[m(g)+"="+b]}return[m(g)+"="+m(s(h,$.encoder,d,"value",f))]}return[m(r)+"="+m(String(h))]}var R=[];if(typeof h>"u")return R;var w;if(n==="comma"&&ve(h))w=[{value:h.length>0?h.join(",")||null:void 0}];else if(ve(c))w=c;else{var I=Object.keys(h);w=u?I.sort(u):I}for(var A=0;A<w.length;++A){var x=w[A],_=typeof x=="object"&&typeof x.value<"u"?x.value:h[x];if(!(a&&_===null)){var D=ve(h)?typeof n=="function"?n(r,x):r:r+(o?"."+x:"["+x+"]");qi(R,t(_,D,n,i,a,s,c,u,o,l,f,m,p,d))}}return R},pc=function(e){if(!e)return $;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||$.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Le.default;if(typeof e.format<"u"){if(!uc.call(Le.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Le.formatters[n],a=$.filter;return(typeof e.filter=="function"||ve(e.filter))&&(a=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:$.addQueryPrefix,allowDots:typeof e.allowDots>"u"?$.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$.charsetSentinel,delimiter:typeof e.delimiter>"u"?$.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:$.encode,encoder:typeof e.encoder=="function"?e.encoder:$.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:$.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:$.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:$.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$.strictNullHandling}};ki.exports=function(t,e){var r=t,n=pc(e),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):ve(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var c;e&&e.arrayFormat in $i?c=e.arrayFormat:e&&"indices"in e?c=e.indices?"indices":"repeat":c="indices";var u=$i[c];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var o=0;o<i.length;++o){var l=i[o];n.skipNulls&&r[l]===null||qi(s,mc(r[l],l,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var f=s.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""}});var zi=O((xf,Bi)=>{"use strict";var we=mr(),gr=Object.prototype.hasOwnProperty,gc=Array.isArray,Q={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:we.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},vc=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Vi=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},yc="utf8=%26%2310003%3B",bc="utf8=%E2%9C%93",Rc=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),c=-1,u,o=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===bc?o="utf-8":s[u]===yc&&(o="iso-8859-1"),c=u,u=s.length);for(u=0;u<s.length;++u)if(u!==c){var l=s[u],f=l.indexOf("]="),m=f===-1?l.indexOf("="):f+1,p,d;m===-1?(p=r.decoder(l,Q.decoder,o,"key"),d=r.strictNullHandling?null:""):(p=r.decoder(l.slice(0,m),Q.decoder,o,"key"),d=we.maybeMap(Vi(l.slice(m+1),r),function(h){return r.decoder(h,Q.decoder,o,"value")})),d&&r.interpretNumericEntities&&o==="iso-8859-1"&&(d=vc(d)),l.indexOf("[]=")>-1&&(d=gc(d)?[d]:d),gr.call(n,p)?n[p]=we.combine(n[p],d):n[p]=d}return n},Sc=function(t,e,r,n){for(var i=n?e:Vi(e,r),a=t.length-1;a>=0;--a){var s,c=t[a];if(c==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,o=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(o)&&c!==u&&String(o)===u&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(s=[],s[o]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},wc=function(e,r,n,i){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(a),o=u?a.slice(0,u.index):a,l=[];if(o){if(!n.plainObjects&&gr.call(Object.prototype,o)&&!n.allowPrototypes)return;l.push(o)}for(var f=0;n.depth>0&&(u=c.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&gr.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+a.slice(u.index)+"]"),Sc(l,r,n,i)}},Pc=function(e){if(!e)return Q;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Q.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Q.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Q.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Q.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Q.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Q.comma,decoder:typeof e.decoder=="function"?e.decoder:Q.decoder,delimiter:typeof e.delimiter=="string"||we.isRegExp(e.delimiter)?e.delimiter:Q.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Q.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Q.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Q.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Q.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Q.strictNullHandling}};Bi.exports=function(t,e){var r=Pc(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Rc(t,r):t,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var c=a[s],u=wc(c,n[c],r,typeof t=="string");i=we.merge(i,u,r)}return we.compact(i)}});var Ji=O((Of,Ki)=>{"use strict";var _c=Mi(),xc=zi(),Oc=Rt();Ki.exports={formats:Oc,parse:xc,stringify:_c}});function Ir(){function t(e){return new Promise(r=>{let n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(c=>n.setRequestHeader(c,e.headers[c]));let i=(c,u)=>setTimeout(()=>{n.abort(),r({status:0,content:u,isTimedOut:!0})},c),a=i(e.connectTimeout,"Connection timeout"),s;n.onreadystatechange=()=>{n.readyState>n.OPENED&&s===void 0&&(clearTimeout(a),s=i(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{n.status===0&&(clearTimeout(a),clearTimeout(s),r({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(a),clearTimeout(s),r({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}return{send:t}}function Dr(t){let e,r=`algolia-client-js-${t.key}`;function n(){return e===void 0&&(e=t.localStorage||window.localStorage),e}function i(){return JSON.parse(n().getItem(r)||"{}")}function a(c){n().setItem(r,JSON.stringify(c))}function s(){let c=t.timeToLive?t.timeToLive*1e3:null,u=i(),o=Object.fromEntries(Object.entries(u).filter(([,f])=>f.timestamp!==void 0));if(a(o),!c)return;let l=Object.fromEntries(Object.entries(o).filter(([,f])=>{let m=new Date().getTime();return!(f.timestamp+c<m)}));a(l)}return{get(c,u,o={miss:()=>Promise.resolve()}){return Promise.resolve().then(()=>(s(),i()[JSON.stringify(c)])).then(l=>Promise.all([l?l.value:u(),l!==void 0])).then(([l,f])=>Promise.all([l,f||o.miss(l)])).then(([l])=>l)},set(c,u){return Promise.resolve().then(()=>{let o=i();return o[JSON.stringify(c)]={timestamp:new Date().getTime(),value:u},n().setItem(r,JSON.stringify(o)),u})},delete(c){return Promise.resolve().then(()=>{let u=i();delete u[JSON.stringify(c)],n().setItem(r,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{n().removeItem(r)})}}}function Sa(){return{get(t,e,r={miss:()=>Promise.resolve()}){return e().then(i=>Promise.all([i,r.miss(i)])).then(([i])=>i)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}function be(t){let e=[...t.caches],r=e.shift();return r===void 0?Sa():{get(n,i,a={miss:()=>Promise.resolve()}){return r.get(n,i,a).catch(()=>be({caches:e}).get(n,i,a))},set(n,i){return r.set(n,i).catch(()=>be({caches:e}).set(n,i))},delete(n){return r.delete(n).catch(()=>be({caches:e}).delete(n))},clear(){return r.clear().catch(()=>be({caches:e}).clear())}}}function Xe(t={serializable:!0}){let e={};return{get(r,n,i={miss:()=>Promise.resolve()}){let a=JSON.stringify(r);if(a in e)return Promise.resolve(t.serializable?JSON.parse(e[a]):e[a]);let s=n();return s.then(c=>i.miss(c)).then(()=>s)},set(r,n){return e[JSON.stringify(r)]=t.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete(r){return delete e[JSON.stringify(r)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}function wa(t){let e={value:`Algolia for JavaScript (${t})`,add(r){let n=`; ${r.segment}${r.version!==void 0?` (${r.version})`:""}`;return e.value.indexOf(n)===-1&&(e.value=`${e.value}${n}`),e}};return e}function Cr(t,e,r="WithinHeaders"){let n={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return r==="WithinHeaders"?n:{}},queryParameters(){return r==="WithinQueryParameters"?n:{}}}}function Ur({algoliaAgents:t,client:e,version:r}){let n=wa(r).add({segment:e,version:r});return t.forEach(i=>n.add(i)),n}function Lr(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}var Nr=2*60*1e3;function Hr(t,e="up"){let r=Date.now();function n(){return e==="up"||Date.now()-r>Nr}function i(){return e==="timed out"&&Date.now()-r<=Nr}return se(T({},t),{status:e,lastUpdate:r,isUp:n,isTimedOut:i})}var Wr=class extends Error{name="AlgoliaError";constructor(t,e){super(t),e&&(this.name=e)}},$r=class extends Wr{stackTrace;constructor(t,e,r){super(t,r),this.stackTrace=e}},Pa=class extends $r{constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},Nt=class extends $r{status;constructor(t,e,r,n="ApiError"){super(t,r,n),this.status=e}},_a=class extends Wr{response;constructor(t,e){super(t,"DeserializationError"),this.response=e}},xa=class extends Nt{error;constructor(t,e,r,n){super(t,e,n,"DetailedApiError"),this.error=r}};function Qr(t){let e=t;for(let r=t.length-1;r>0;r--){let n=Math.floor(Math.random()*(r+1)),i=t[r];e[r]=t[n],e[n]=i}return e}function Oa(t,e,r){let n=Fa(r),i=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return n.length&&(i+=`?${n}`),i}function Fa(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}function ja(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;let r=Array.isArray(t.data)?t.data:T(T({},t.data),e.data);return JSON.stringify(r)}function Ea(t,e,r){let n=T(T(T({Accept:"application/json"},t),e),r),i={};return Object.keys(n).forEach(a=>{let s=n[a];i[a.toLowerCase()]=s}),i}function Ta(t){try{return JSON.parse(t.content)}catch(e){throw new _a(e.message,t)}}function Aa({content:t,status:e},r){try{let n=JSON.parse(t);return"error"in n?new xa(n.message,e,n.error,r):new Nt(n.message,e,r)}catch{}return new Nt(t,e,r)}function Ia({isTimedOut:t,status:e}){return!t&&~~e===0}function Na({isTimedOut:t,status:e}){return t||Ia({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}function Ha({status:t}){return~~(t/100)===2}function Da(t){return t.map(e=>qr(e))}function qr(t){let e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return se(T({},t),{request:se(T({},t.request),{headers:T(T({},t.request.headers),e)})})}function kr({hosts:t,hostsCache:e,baseHeaders:r,logger:n,baseQueryParameters:i,algoliaAgent:a,timeouts:s,requester:c,requestsCache:u,responsesCache:o}){async function l(p){let d=await Promise.all(p.map(S=>e.get(S,()=>Promise.resolve(Hr(S))))),h=d.filter(S=>S.isUp()),g=d.filter(S=>S.isTimedOut()),y=[...h,...g];return{hosts:y.length>0?y:p,getTimeout(S,R){return(g.length===0&&S===0?1:g.length+3+S)*R}}}async function f(p,d,h=!0){let g=[],y=ja(p,d),b=Ea(r,p.headers,d.headers),S=p.method==="GET"?T(T({},p.data),d.data):{},R=T(T(T({},i),p.queryParameters),S);if(a.value&&(R["x-algolia-agent"]=a.value),d&&d.queryParameters)for(let _ of Object.keys(d.queryParameters))!d.queryParameters[_]||Object.prototype.toString.call(d.queryParameters[_])==="[object Object]"?R[_]=d.queryParameters[_]:R[_]=d.queryParameters[_].toString();let w=0,I=async(_,D)=>{let P=_.pop();if(P===void 0)throw new Pa(Da(g));let E=T(T({},s),d.timeouts),W={data:y,headers:b,method:p.method,url:Oa(P,p.path,R),connectTimeout:D(w,E.connect),responseTimeout:D(w,h?E.read:E.write)},q=ye=>{let ze={request:W,response:ye,host:P,triesLeft:_.length};return g.push(ze),ze},C=await c.send(W);if(Na(C)){let ye=q(C);return C.isTimedOut&&w++,n.info("Retryable failure",qr(ye)),await e.set(P,Hr(P,C.isTimedOut?"timed out":"down")),I(_,D)}if(Ha(C))return Ta(C);throw q(C),Aa(C,g)},A=t.filter(_=>_.accept==="readWrite"||(h?_.accept==="read":_.accept==="write")),x=await l(A);return I([...x.hosts].reverse(),x.getTimeout)}function m(p,d={}){let h=p.useReadTransporter||p.method==="GET";if(!h)return f(p,d,h);let g=()=>f(p,d);if((d.cacheable||p.cacheable)!==!0)return g();let b={request:p,requestOptions:d,transporter:{queryParameters:i,headers:r}};return o.get(b,()=>u.get(b,()=>u.set(b,g()).then(S=>Promise.all([u.delete(b),S]),S=>Promise.all([u.delete(b),Promise.reject(S)])).then(([S,R])=>R)),{miss:S=>o.set(b,S)})}return{hostsCache:e,requester:c,timeouts:s,logger:n,algoliaAgent:a,baseHeaders:r,baseQueryParameters:i,hosts:t,request:m,requestsCache:u,responsesCache:o}}var Mr="5.21.0";function Ca(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(Qr([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function Ua(a){var s=a,{appId:t,apiKey:e,authMode:r,algoliaAgents:n}=s,i=At(s,["appId","apiKey","authMode","algoliaAgents"]);let c=Cr(t,e,r),u=kr(se(T({hosts:Ca(t)},i),{algoliaAgent:Ur({algoliaAgents:n,client:"Lite",version:Mr}),baseHeaders:T(T({"content-type":"text/plain"},c.headers()),i.baseHeaders),baseQueryParameters:T(T({},c.queryParameters()),i.baseQueryParameters)}));return{transporter:u,appId:t,apiKey:e,clearCache(){return Promise.all([u.requestsCache.clear(),u.responsesCache.clear()]).then(()=>{})},get _ua(){return u.algoliaAgent.value},addAlgoliaAgent(o,l){u.algoliaAgent.add({segment:o,version:l})},setClientApiKey({apiKey:o}){!r||r==="WithinHeaders"?u.baseHeaders["x-algolia-api-key"]=o:u.baseQueryParameters["x-algolia-api-key"]=o},searchForHits(o,l){return this.search(o,l)},searchForFacets(o,l){return this.search(o,l)},customPost({path:o,parameters:l,body:f},m){if(!o)throw new Error("Parameter `path` is required when calling `customPost`.");let g={method:"POST",path:"/{path}".replace("{path}",o),queryParameters:l||{},headers:{},data:f||{}};return u.request(g,m)},getRecommendations(o,l){if(o&&Array.isArray(o)&&(o={requests:o}),!o)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!o.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");let d={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return u.request(d,l)},search(o,l){if(o&&Array.isArray(o)&&(o={requests:o.map(b=>{var S=b,{params:g}=S,y=At(S,["params"]);return y.type==="facet"?se(T(T({},y),g),{type:"facet"}):se(T(T({},y),g),{facet:void 0,maxFacetHits:void 0,facetQuery:void 0})})}),!o)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!o.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");let d={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:o,useReadTransporter:!0,cacheable:!0};return u.request(d,l)}}}function Vr(t,e,r){if(!t||typeof t!="string")throw new Error("`appId` is missing.");if(!e||typeof e!="string")throw new Error("`apiKey` is missing.");return Ua(T({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:Lr(),requester:Ir(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Xe(),requestsCache:Xe({serializable:!1}),hostsCache:be({caches:[Dr({key:`${Mr}-${t}`}),Xe()]})},r))}var ya=Ge(Ye(),1),xr=Ge(er(),1);var Us="ais",ue=function(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Us,"-").concat(e).concat(a).concat(s)}};var Ls=0;function ri(t){t.dependsOn==="recommend"&&(t.$$id=Ls++)}function J(){}var Ws={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=/[&<>"']/g,$s=RegExp(ni.source);function ii(t){return t&&$s.test(t)?t.replace(ni,function(e){return Ws[e]}):t}var Qs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ai=/&(amp|quot|lt|gt|#39);/g,qs=RegExp(ai.source);function si(t){return t&&qs.test(t)?t.replace(ai,function(e){return Qs[e]}):t}function tr(t){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(t)}function ks(t){return t===null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function Ms(t){return tr(t)==="object"&&t!==null}function oi(t){if(!Ms(t)||ks(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ae(t){"@babel/helpers - typeof";return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(t)}function Vs(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function rr(){return rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rr.apply(this,arguments)}function ci(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ci(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function li(t,e,r){return e=Bs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bs(t){var e=zs(t,"string");return Ae(e)=="symbol"?e:String(e)}function zs(t,e){if(Ae(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ae(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ui={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},U={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Ks(t){return ii(t).replace(new RegExp(ui.highlightPreTag,"g"),U.highlightPreTag).replace(new RegExp(ui.highlightPostTag,"g"),U.highlightPostTag)}function ct(t){return oi(t)&&typeof t.value!="string"?Object.keys(t).reduce(function(e,r){return ot(ot({},e),{},li({},r,ct(t[r])))},{}):Array.isArray(t)?t.map(ct):ot(ot({},t),{},{value:Ks(t.value)})}function il(t){return t.__escaped===void 0&&(t=t.map(function(e){var r=rr({},(Vs(e),e));return r._highlightResult&&(r._highlightResult=ct(r._highlightResult)),r._snippetResult&&(r._snippetResult=ct(r._snippetResult)),r}),t.__escaped=!0),t}function ut(t){var e=U.highlightPreTag,r=U.highlightPostTag;return t.map(function(n){return n.isHighlighted?e+n.value+r:n.value}).join("")}function fi(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function M(t){return t.$$type==="ais.index"}function lt(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(M).forEach(function(n){return lt(t,n)})}var Js=Promise.resolve();function Se(t){var e=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];e===null&&(e=Js.then(function(){if(e=null,r){r=!1;return}t.apply(void 0,s)}))};return n.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},n.cancel=function(){e!==null&&(r=!0)},n}function Gs(t){var e=t.name,r=t.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",n?"#connector":""].join("")}function ft(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.map(function(i){return Gs(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function nr(t,e){for(var r,n=0;n<t.length;n++)if(r=t[n],e(r,n,t))return r}function hi(t,e){if(!Array.isArray(t))return-1;for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function di(t){if(t.appId&&t.apiKey)return[t.appId,t.apiKey];if(t.transporter){var e=t.transporter,r=e.headers||e.baseHeaders,n=e.queryParameters||e.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=r[i]||n[i],c=r[a]||n[a];return[s,c]}else return[t.applicationID,t.apiKey]}function ht(t){var e=U.highlightPostTag,r=U.highlightPreTag,n=t.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var c=s.split(e);a.push({value:c[0],isHighlighted:!0}),c[1]!==""&&a.push({value:c[1],isHighlighted:!1})}),a}var Xs=new RegExp(/\w/i);function mi(t,e){var r,n,i=t[e],a=((r=t[e+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=t[e-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Xs.test(si(i.value))&&s===a?s:i.isHighlighted}function le(t,e){var r=Array.isArray(e)?e:e.split(".");return r.reduce(function(n,i){return n&&n[i]},t)}function Ie(t){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(t)}function pi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pi(Object(r),!0).forEach(function(n){Ys(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ys(t,e,r){return e=Zs(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zs(t){var e=eo(t,"string");return Ie(e)=="symbol"?e:String(e)}function eo(t,e){if(Ie(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ie(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vi(t,e){var r=Object.keys(e).reduce(function(n,i){var a=e[i];return a.recommendResults?gi(gi({},n),a.recommendResults.results):n},{});t._recommendCache=r}function He(t){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(t)}function to(t,e){return ao(t)||io(t,e)||no(t,e)||ro()}function ro(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function no(t,e){if(t){if(typeof t=="string")return yi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yi(t,e)}}function yi(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function io(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function ao(t){if(Array.isArray(t))return t}function bi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bi(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ri(t,e,r){return e=so(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function so(t){var e=oo(t,"string");return He(e)=="symbol"?e:String(e)}function oo(t,e){if(He(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(He(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Si(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var r=[Object.keys(e).reduce(function(s,c){var u=e[c],o=u.state,l=u.requestParams,f=u.results,m=f&&o?f.map(function(p,d){return Ne({indexName:o.index||p.index},l!=null&&l[d]||p.params?{params:ir(l?.[d]||co(p.params))}:{})}):[];return s.concat(m)},[])],n=Object.keys(e).reduce(function(s,c){var u=e[c].results;return u?s.concat(u):s},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var i=t.search.bind(t);t.search=function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),o=1;o<c;o++)u[o-1]=arguments[o];var l=Array.isArray(s)?s.map(function(f){return Ne(Ne({},f),{},{params:ir(f.params)})}):ir(s.requestBody.params);return t.transporter.responsesCache.get({method:"search",args:[l].concat(u)},function(){return i.apply(void 0,[s].concat(u))})},t.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in t)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));t.cache=Ne(Ne({},t.cache),{},Ri({},a,JSON.stringify({results:Object.keys(e).map(function(s){return e[s].results})})))}}}function co(t){return t.split("&").reduce(function(e,r){var n=r.split("="),i=to(n,2),a=i[0],s=i[1];return e[a]=s?decodeURIComponent(s):"",e},{})}function ir(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(s[u++])})};return Object.keys(t).map(function(n){return r("%s=%s",n,e(t[n])?JSON.stringify(t[n]):t[n])}).join("&")}function wi(t){return t!==Object(t)}function ar(t,e){if(t===e)return!0;if(wi(t)||wi(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(!(i in e)||!ar(t[i],e[i]))return!1}return!0}function Pi(t){return t.filter(function(e,r,n){return n.indexOf(e)===r})}function De(t){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(t)}var uo=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function _i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_i(Object(r),!0).forEach(function(n){lo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_i(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lo(t,e,r){return e=fo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fo(t){var e=ho(t,"string");return De(e)=="symbol"?e:String(e)}function ho(t,e){if(De(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(De(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mo(t,e){if(t==null)return{};var r=po(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function po(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var go=function(e,r){var n=r.facets,i=r.disjunctiveFacets,a=r.facetsRefinements,s=r.facetsExcludes,c=r.disjunctiveFacetsRefinements,u=r.numericRefinements,o=r.tagRefinements,l=r.hierarchicalFacets,f=r.hierarchicalFacetsRefinements,m=r.ruleContexts,p=mo(r,uo);return e.setQueryParameters(p)},vo=function(e,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},e)},yo=function(e,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},e)},bo=function(e,r){return e.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=hi(n,function(c){return c.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},e.hierarchicalFacets)})},Ro=function(e,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},e)},So=function(e,r){return e.setQueryParameters({facetsRefinements:Z(Z({},e.facetsRefinements),r.facetsRefinements)})},wo=function(e,r){return e.setQueryParameters({facetsExcludes:Z(Z({},e.facetsExcludes),r.facetsExcludes)})},Po=function(e,r){return e.setQueryParameters({disjunctiveFacetsRefinements:Z(Z({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},_o=function(e,r){return e.setQueryParameters({numericRefinements:Z(Z({},e.numericRefinements),r.numericRefinements)})},xo=function(e,r){return e.setQueryParameters({hierarchicalFacetsRefinements:Z(Z({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},Oo=function(e,r){var n=Pi([].concat(e.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},xi=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=xo(i,a),c=bo(s,a),u=Ro(c,a),o=_o(u,a),l=Po(o,a),f=wo(l,a),m=So(f,a),p=yo(m,a),d=Oo(p,a),h=vo(d,a);return go(h,a)})};function me(t,e,r){var n=e.getHelper();return{uiState:r,helper:n,parent:e,instantSearchInstance:t,state:n.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function sr(t,e,r){var n=e.getResultsForWidget(r),i=e.getHelper();return{helper:i,parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function Oi(t){for(var e=t.getParent(),r=[t.getHelper().state];e!==null;)r=[e.getHelper().state].concat(r),e=e.getParent();return r}function Ce(t){"@babel/helpers - typeof";return Ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(t)}function Fi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fi(Object(r),!0).forEach(function(n){Fo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fo(t,e,r){return e=jo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jo(t){var e=Eo(t,"string");return Ce(e)=="symbol"?e:String(e)}function Eo(t,e){if(Ce(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ce(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mt(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,r){return dt(dt({},e),{},{isHighlighted:!mi(t,r)})}):t.map(function(e){return dt(dt({},e),{},{isHighlighted:!1})})}function G(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=e.fallback;return typeof window>"u"?r():t({window})}var To=ue("Highlight");function pt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=le(i._highlightResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=To({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(U.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(U.highlightPostTag,"g"),"</".concat(n,">"))}var Ao=ue("ReverseHighlight");function gt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=le(i._highlightResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=Ao({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),m=ut(mt(ht(l)));return m.replace(new RegExp(U.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(U.highlightPostTag,"g"),"</".concat(n,">"))}var Io=ue("Snippet");function vt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=le(i._snippetResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=Io({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(U.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(U.highlightPostTag,"g"),"</".concat(n,">"))}var No=ue("ReverseSnippet");function yt(t){var e=t.attribute,r=t.highlightedTagName,n=r===void 0?"mark":r,i=t.hit,a=t.cssClasses,s=a===void 0?{}:a,c=le(i._snippetResult,e),u=c||{},o=u.value,l=o===void 0?"":o,f=No({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),m=ut(mt(ht(l)));return m.replace(new RegExp(U.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(U.highlightPostTag,"g"),"</".concat(n,">"))}function or(t){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},or(t)}function Ho(t){var e=t.method,r=t.payload;if(or(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=fi(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(n,'"')}function bt(t,e){return Ho({method:t,payload:e})}function cr(t){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cr(t)}var Do="_ALGOLIA";function Co(t){if(!((typeof document>"u"?"undefined":cr(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function ur(){return Co(Do)}function ji(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t==="x"?e:e&3|8;return r.toString(16)})}function Ue(t){"@babel/helpers - typeof";return Ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(t)}function Ei(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ei(Object(r),!0).forEach(function(n){Uo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uo(t,e,r){return e=Lo(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lo(t){var e=Wo(t,"string");return Ue(e)=="symbol"?e:String(e)}function Wo(t,e){if(Ue(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ue(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fe(t,e){return qo(t)||Qo(t,e)||Ii(t,e)||$o()}function $o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qo(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function qo(t){if(Array.isArray(t))return t}function ko(t){return Bo(t)||Vo(t)||Ii(t)||Mo()}function Mo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ii(t,e){if(t){if(typeof t=="string")return lr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lr(t,e)}}function Vo(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bo(t){if(Array.isArray(t))return lr(t)}function lr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ni="2.17.2",zo="https://cdn.jsdelivr.net/npm/search-insights@".concat(Ni,"/dist/search-insights.min.js");function fr(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,r=t.insightsInitParams,n=t.onEvent,i=t.$$internal,a=i===void 0?!1:i,s=t.$$automatic,c=s===void 0?!1:s,u=e;!e&&e!==null&&G(function(l){var f=l.window,m=f.AlgoliaAnalyticsObject||"aa";typeof m=="string"&&(u=f[m]),u||(f.AlgoliaAnalyticsObject=m,f[m]||(f[m]=function(){f[m].queue||(f[m].queue=[]);for(var p=arguments.length,d=new Array(p),h=0;h<p;h++)d[h]=arguments[h];f[m].queue.push(d)},f[m].version=Ni,f[m].shouldAddScript=!0),u=f[m])});var o=u||J;return function(l){var f=l.instantSearchInstance,m=f.middleware.filter(function(_){return _.instance.$$type==="ais.insights"&&_.instance.$$internal}).map(function(_){return _.creator});f.unuse.apply(f,ko(m));var p=di(f.client),d=fe(p,2),h=d[0],g=d[1],y=void 0,b=void 0,S=void 0,R=o.queue;if(Array.isArray(R)){var w=["setUserToken","init"].map(function(_){var D=nr(R.slice().reverse(),function(W){var q=fe(W,1),C=q[0];return C===_})||[],P=fe(D,2),E=P[1];return E}),I=fe(w,2);b=I[0],y=I[1]}o("getUserToken",null,function(_,D){S=Ai(D)}),(r||!Ti(o))&&o("init",pe({appId:h,apiKey:g,partial:!0},r));var A,x;return{$$type:"ais.insights",$$internal:a,$$automatic:c,onStateChange:function(){},subscribe:function(){if(o.shouldAddScript){var D="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var P=document.createElement("script");P.async=!0,P.src=zo,P.onerror=function(){f.emit("error",new Error(D))},document.body.appendChild(P),o.shouldAddScript=!1}catch{o.shouldAddScript=!1,f.emit("error",new Error(D))}}},started:function(){o("addAlgoliaAgent","insights-middleware"),x=f.mainHelper;var D=o.queue;if(Array.isArray(D)){var P=["setUserToken","init"].map(function(H){var B=nr(D.slice().reverse(),function(Ke){var Je=fe(Ke,1),Ra=Je[0];return Ra===H})||[],ne=fe(B,2),Y=ne[1];return Y}),E=fe(P,2);b=E[0],y=E[1]}A=Ko(f),c||x.overrideStateWithoutTriggeringChangeEvent(pe(pe({},x.state),{},{clickAnalytics:!0})),a||f.scheduleSearch();var W=function(B){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=Ai(B);if(!Y)return;var Ke=x.state.userToken;function Je(){x.overrideStateWithoutTriggeringChangeEvent(pe(pe({},x.state),{},{userToken:Y})),Ke&&Ke!==B&&f.scheduleSearch()}ne?Je():setTimeout(Je,0)};function q(H){W(H,!0),o("setUserToken",H)}var C=void 0,ye=ur();if(ye)C=ye;else{var ze="anonymous-".concat(ji());C=ze}var Ot,Or=A.userToken;if(r!=null&&r.userToken&&(Ot=r.userToken),Ot)q(Ot);else if(Or)q(Or);else if(S)q(S);else if(b)q(b);else if(C){var Ft;if(q(C),r!=null&&r.useCookie||(Ft=y)!==null&&Ft!==void 0&&Ft.useCookie){var jt;Jo(C,r?.cookieDuration||((jt=y)===null||jt===void 0?void 0:jt.cookieDuration))}}o("onUserTokenChange",function(H){return W(H,!0)},{immediate:!0});var Et=o;Ti(o)&&(Et=function(B,ne){var Y={headers:{"X-Algolia-Application-Id":h,"X-Algolia-API-Key":g}};return o(B,ne,Y)});var Tt=new Set,Fr;f.mainHelper.derivedHelpers[0].on("result",function(H){var B=H.results;B&&(!B.queryID||B.queryID!==Fr)&&(Fr=B.queryID,Tt.clear())}),f.sendEventToInsights=function(H){if(n)n(H,Et);else if(H.insightsMethod){if(H.insightsMethod==="viewedObjectIDs"){var B=H.payload,ne=B.objectIDs.filter(function(Y){return!Tt.has(Y)});if(ne.length===0)return;ne.forEach(function(Y){return Tt.add(Y)}),B.objectIDs=ne}H.payload.algoliaSource=["instantsearch"],c&&H.payload.algoliaSource.push("instantsearch-automatic"),H.eventModifier==="internal"&&H.payload.algoliaSource.push("instantsearch-internal"),Et(H.insightsMethod,H.payload)}}},unsubscribe:function(){o("onUserTokenChange",void 0),f.sendEventToInsights=J,x&&A&&(x.overrideStateWithoutTriggeringChangeEvent(pe(pe({},x.state),A)),f.scheduleSearch())}}}}function Ko(t){var e,r,n=((e=t._initialResults)===null||e===void 0||(r=e[t.indexName])===null||r===void 0?void 0:r.state)||{},i=t.mainHelper.state;return{userToken:n.userToken||i.userToken,clickAnalytics:n.clickAnalytics||i.clickAnalytics}}function Jo(t,e){var r=2592e6,n=new Date;n.setTime(n.getTime()+(e||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(t,";").concat(i,";path=/")}function Ti(t){var e=(t.version||"").split(".").map(Number),r=fe(e,2),n=r[0],i=r[1],a=n>=3,s=n===2&&i>=6,c=n===1&&i>=10;return a||s||c}function Ai(t){if(t)return typeof t=="number"?t.toString():t}function Hi(t,e,r){var n=me(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var c=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:c}),i.$$type==="ais.index"&&Hi(i.getWidgets(),e,r)})}function Di(){return G(function(t){var e,r,n=t.window;return((e=n.navigator)===null||e===void 0||(r=e.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Ci(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,r=e===void 0?!1:e;return function(n){var i=n.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),c=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var o=i.client;a.ua=o.transporter&&o.transporter.userAgent?o.transporter.userAgent.value:o._ua,Hi(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(l){return a.widgets.push({middleware:!0,type:l.instance.$$type,internal:l.instance.$$internal})}),s.content=JSON.stringify(a),c.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var vr=Ge(Ji(),1);function We(t){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(t)}function Fc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yi(n.key),n)}}function jc(t,e,r){return e&&Gi(t.prototype,e),r&&Gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V(t,e,r){return e=Yi(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yi(t){var e=Ec(t,"string");return We(e)=="symbol"?e:String(e)}function Ec(t,e){if(We(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(We(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xi=function(e){e&&(window.document.title=e)},Tc=function(){function t(e){var r=this,n=e.windowTitle,i=e.writeDelay,a=i===void 0?400:i,s=e.createURL,c=e.parseURL,u=e.getLocation,o=e.start,l=e.dispose,f=e.push,m=e.cleanUrlOnDispose;Fc(this,t),V(this,"$$type","ais.browser"),V(this,"windowTitle",void 0),V(this,"writeDelay",void 0),V(this,"_createURL",void 0),V(this,"parseURL",void 0),V(this,"getLocation",void 0),V(this,"writeTimer",void 0),V(this,"_onPopState",void 0),V(this,"inPopState",!1),V(this,"isDisposed",!1),V(this,"latestAcknowledgedHistory",0),V(this,"_start",void 0),V(this,"_dispose",void 0),V(this,"_push",void 0),V(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=c,this.getLocation=u,this._start=o,this._dispose=l,this._push=f,this._cleanUrlOnDispose=typeof m>"u"?!0:m,G(function(p){var d=p.window,h=r.windowTitle&&r.windowTitle(r.read());Xi(h),r.latestAcknowledgedHistory=d.history.length})}return jc(t,[{key:"read",value:function(){return this.parseURL({qsModule:vr.default,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;G(function(i){var a=i.window,s=n.createURL(r),c=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){Xi(c),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,c||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},G(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:vr.default,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,G(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return G(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),t}();function Pe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,r=e===void 0?function(d){var h=d.qsModule,g=d.routeState,y=d.location,b=y.protocol,S=y.hostname,R=y.port,w=R===void 0?"":R,I=y.pathname,A=y.hash,x=h.stringify(g),_=w===""?"":":".concat(w);return x?"".concat(b,"//").concat(S).concat(_).concat(I,"?").concat(x).concat(A):"".concat(b,"//").concat(S).concat(_).concat(I).concat(A)}:e,n=t.parseURL,i=n===void 0?function(d){var h=d.qsModule,g=d.location;return h.parse(g.search.slice(1),{arrayLimit:99})}:n,a=t.writeDelay,s=a===void 0?400:a,c=t.windowTitle,u=t.getLocation,o=u===void 0?function(){return G(function(d){var h=d.window;return h.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,l=t.start,f=t.dispose,m=t.push,p=t.cleanUrlOnDispose;return new Tc({createURL:r,parseURL:i,writeDelay:s,windowTitle:c,getLocation:o,start:l,dispose:f,push:m,cleanUrlOnDispose:p})}function $e(t){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(t)}var Ac=["configure"];function Zi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zi(Object(r),!0).forEach(function(n){yr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zi(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yr(t,e,r){return e=Ic(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ic(t){var e=Nc(t,"string");return $e(e)=="symbol"?e:String(e)}function Nc(t,e){if($e(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($e(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(t,e){if(t==null)return{};var r=Dc(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dc(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ea(t){var e=t.configure,r=Hc(t,Ac);return r}function br(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(r,n){return St(St({},r),{},yr({},n,ea(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(r,n){return St(St({},r),{},yr({},n,ea(e[n])))},{})}}}function Qe(t){"@babel/helpers - typeof";return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(t)}function ta(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ta(Object(r),!0).forEach(function(n){ra(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ra(t,e,r){return e=Cc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cc(t){var e=Uc(t,"string");return Qe(e)=="symbol"?e:String(e)}function Uc(t,e){if(Qe(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Qe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var na=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.router,n=r===void 0?Pe():r,i=e.stateMapping,a=i===void 0?br():i,s=e.$$internal,c=s===void 0?!1:s;return function(u){var o=u.instantSearchInstance;function l(p){var d=o.mainIndex.getWidgets().length===0?o._initialUiState:o.mainIndex.getWidgetUiState({}),h=Object.keys(p).reduce(function(y,b){return wt(wt({},y),{},ra({},b,p[b]))},d),g=a.stateToRoute(h);return n.createURL(g)}o._createURL=l;var f=void 0,m=o._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:c,onStateChange:function(d){var h=d.uiState,g=a.stateToRoute(h);(f===void 0||!ar(f,g))&&(n.write(g),f=g)},subscribe:function(){o._initialUiState=wt(wt({},m),a.routeToState(n.read())),n.onUpdate(function(d){o.mainIndex.getWidgets().length>0&&o.setUiState(a.routeToState(d))})},started:function(){var d;(d=n.start)===null||d===void 0||d.call(n)},unsubscribe:function(){n.dispose()}}}};var te=Ge(er(),1);function Ve(t){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(t)}var Lc=["initialSearchParameters"],Wc=["initialRecommendParameters"];function ia(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ia(Object(r),!0).forEach(function(n){_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _e(t,e,r){return e=$c(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $c(t){var e=Qc(t,"string");return Ve(e)=="symbol"?e:String(e)}function Qc(t,e){if(Ve(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ve(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sa(t){return Vc(t)||Mc(t)||kc(t)||qc()}function qc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kc(t,e){if(t){if(typeof t=="string")return Sr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sr(t,e)}}function Mc(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vc(t){if(Array.isArray(t))return Sr(t)}function Sr(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oa(t,e){if(t==null)return{};var r=Bc(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bc(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var qe=ft({name:"index-widget"});function ca(t,e){var r=e.state,n=e.recommendState,i=e.isPageReset,a=e._uiState;r!==t.state&&(t.state=r,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:i,_uiState:a})),n!==t.recommendState&&(t.recommendState=n)}function ke(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(n,i){return M(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,e):i.getWidgetState(n,e)},r)}function Me(t,e){var r=e.initialSearchParameters,n=oa(e,Lc);return t.reduce(function(i,a){return!a.getWidgetSearchParameters||M(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function aa(t,e){var r=e.initialRecommendParameters,n=oa(e,Wc);return t.reduce(function(i,a){return!M(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function ua(t){var e=t.filter(M);e.length!==0&&e.forEach(function(r){var n=r.getHelper();ca(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),ua(r.getWidgets())})}function la(t){var e=t.filter(M);return e.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(sa(la(n.getWidgets()))))},[])}var zc=function(e){if(e===void 0||e.indexName===void 0)throw new Error(qe("The `indexName` option is required."));var r=e.indexName,n=e.indexId,i=n===void 0?r:n,a=[],s={},c=null,u=null,o=null,l=null,f=null,m=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return o},getResults:function(){var h;return(h=l)!==null&&h!==void 0&&h.lastResults?(l.lastResults._state=o.state,l.lastResults):null},getResultsForWidget:function(h){var g;return h.dependsOn!=="recommend"||M(h)||h.$$id===void 0?this.getResults():(g=o)!==null&&g!==void 0&&g.lastRecommendResults?o.lastRecommendResults[h.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var h=this.getParent(),g;return h?g=h.getWidgets():r.length===0?g=this.getWidgets():g=[this],la(g)},getParent:function(){return u},createURL:function(h){return typeof h=="function"?c._createURL(_e({},i,h(s))):c._createURL(_e({},i,ke(a,{searchParameters:h,helper:o})))},getWidgets:function(){return a},addWidgets:function(h){var g=this;if(!Array.isArray(h))throw new Error(qe("The `addWidgets` method expects an array of widgets."));if(h.some(function(y){return typeof y.init!="function"&&typeof y.render!="function"}))throw new Error(qe("The widget definition expects a `render` and/or an `init` method."));return h.forEach(function(y){M(y)||(c&&y.dependsOn==="recommend"?c._hasRecommendWidget=!0:c?c._hasSearchWidget=!0:y.dependsOn==="recommend"?m=!0:p=!0,ri(y))}),a=a.concat(h),c&&h.length&&(ca(o,{state:Me(a,{uiState:s,initialSearchParameters:o.state}),recommendState:aa(a,{uiState:s,initialRecommendParameters:o.recommendState}),_uiState:s}),h.forEach(function(y){if(y.getRenderState){var b=y.getRenderState(c.renderState[g.getIndexId()]||{},me(c,g,c._initialUiState));Rr({renderState:b,instantSearchInstance:c,parent:g})}}),h.forEach(function(y){y.init&&y.init(me(c,g,c._initialUiState))}),c.scheduleSearch()),this},removeWidgets:function(h){var g=this;if(!Array.isArray(h))throw new Error(qe("The `removeWidgets` method expects an array of widgets."));if(h.some(function(w){return typeof w.dispose!="function"}))throw new Error(qe("The widget definition expects a `dispose` method."));if(a=a.filter(function(w){return h.indexOf(w)===-1}),a.forEach(function(w){M(w)||(c&&w.dependsOn==="recommend"?c._hasRecommendWidget=!0:c?c._hasSearchWidget=!0:w.dependsOn==="recommend"?m=!0:p=!0)}),c&&h.length){var y=h.reduce(function(w,I){var A=I.dispose({helper:o,state:w.cleanedSearchState,recommendState:w.cleanedRecommendState,parent:g});return A instanceof te.default.RecommendParameters?w.cleanedRecommendState=A:A&&(w.cleanedSearchState=A),w},{cleanedSearchState:o.state,cleanedRecommendState:o.recommendState}),b=y.cleanedSearchState,S=y.cleanedRecommendState,R=c.future.preserveSharedStateOnUnmount?Me(a,{uiState:s,initialSearchParameters:new te.default.SearchParameters({index:this.getIndexName()})}):Me(a,{uiState:ke(a,{searchParameters:b,helper:o}),initialSearchParameters:b});s=ke(a,{searchParameters:R,helper:o}),o.setState(R),o.recommendState=S,a.length&&c.scheduleSearch()}return this},init:function(h){var g=this,y,b=h.instantSearchInstance,S=h.parent,R=h.uiState;if(o===null){c=b,u=S,s=R[i]||{};var w=b.mainHelper,I=Me(a,{uiState:s,initialSearchParameters:new te.default.SearchParameters({index:r})}),A=aa(a,{uiState:s,initialRecommendParameters:new te.default.RecommendParameters});o=(0,te.default)({},I.index,I),o.recommendState=A,o.search=function(){return b.onStateChange?(b.onStateChange({uiState:b.mainIndex.getWidgetUiState({}),setUiState:function(E){return b.setUiState(E,!1)}}),w):w.search()},o.searchWithoutTriggeringOnStateChange=function(){return w.search()},o.searchForFacetValues=function(P,E,W,q){var C=o.state.setQueryParameters(q);return w.searchForFacetValues(P,E,W,C)},l=w.derive(function(){return xi.apply(void 0,[w.state].concat(sa(Oi(g))))},function(){return g.getHelper().recommendState});var x=(y=b._initialResults)===null||y===void 0?void 0:y[this.getIndexId()];if(x!=null&&x.results){var _=new te.default.SearchResults(new te.default.SearchParameters(x.state),x.results);l.lastResults=_,o.lastResults=_}if(x!=null&&x.recommendResults){var D=new te.default.RecommendResults(new te.default.RecommendParameters({params:x.recommendResults.params}),x.recommendResults.results);l.lastRecommendResults=D,o.lastRecommendResults=D}o.on("change",function(P){var E=P.isPageReset;E&&ua(a)}),l.on("search",function(){b.scheduleStalledRender()}),l.on("result",function(P){var E=P.results;b.scheduleRender(),o.lastResults=E,f=E?._state}),l.on("recommend:result",function(P){var E=P.recommend;b.scheduleRender(),o.lastRecommendResults=E.results}),a.forEach(function(P){if(P.getRenderState){var E=P.getRenderState(b.renderState[g.getIndexId()]||{},me(b,g,R));Rr({renderState:E,instantSearchInstance:b,parent:g})}}),a.forEach(function(P){P.init&&P.init(me(b,g,R))}),o.on("change",function(P){var E=P.state,W=P._uiState;s=ke(a,{searchParameters:E,helper:o},W||{}),b.onStateChange||b.onInternalStateChange()}),x&&b.scheduleRender(),m&&(b._hasRecommendWidget=!0),p&&(b._hasSearchWidget=!0)}},render:function(h){var g,y=this,b=h.instantSearchInstance;b.status==="error"&&!b.mainHelper.hasPendingRequests()&&f&&o.setState(f);var S=this.getResults()||(g=l)!==null&&g!==void 0&&g.lastRecommendResults?a:a.filter(M);S=S.filter(function(R){return R.shouldRender?R.shouldRender({instantSearchInstance:b}):!0}),S.forEach(function(R){if(R.getRenderState){var w=R.getRenderState(b.renderState[y.getIndexId()]||{},sr(b,y,R));Rr({renderState:w,instantSearchInstance:b,parent:y})}}),S.forEach(function(R){R.render&&R.render(sr(b,y,R))})},dispose:function(){var h=this,g,y;a.forEach(function(b){b.dispose&&o&&b.dispose({helper:o,state:o.state,recommendState:o.recommendState,parent:h})}),c=null,u=null,(g=o)===null||g===void 0||g.removeAllListeners(),o=null,(y=l)===null||y===void 0||y.detach(),l=null},getWidgetUiState:function(h){return a.filter(M).reduce(function(g,y){return y.getWidgetUiState(g)},re(re({},h),{},_e({},i,re(re({},h[i]),s))))},getWidgetState:function(h){return this.getWidgetUiState(h)},getWidgetSearchParameters:function(h,g){var y=g.uiState;return Me(a,{uiState:y,initialSearchParameters:h})},refreshUiState:function(){s=ke(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)},setIndexUiState:function(h){var g=typeof h=="function"?h(s):h;c.setUiState(function(y){return re(re({},y),{},_e({},i,g))})}}},fa=zc;function Rr(t){var e=t.renderState,r=t.instantSearchInstance,n=t.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=re(re({},r.renderState),{},_e({},i,re(re({},r.renderState[i]),e)))}function ha(t,e){return t.toLocaleString(e)}function Be(t){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(t)}function da(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?da(Object(r),!0).forEach(function(n){Kc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kc(t,e,r){return e=Jc(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jc(t){var e=Gc(t,"string");return Be(e)=="symbol"?e:String(e)}function Gc(t,e){if(Be(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Be(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wr(t){var e=t.numberLocale;return{formatNumber:function(n,i){return ha(Number(i(n)),e)},highlight:function(n,i){try{var a=JSON.parse(n);return i(pt(ae(ae({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(gt(ae(ae({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(vt(ae(ae({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(yt(ae(ae({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,c=a.payload;return i(bt(s,ae({objectIDs:[this.objectID]},c)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}var ma="4.78.0";function xe(t){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(t)}function pa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pa(Object(r),!0).forEach(function(n){j(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ga(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,va(n.key),n)}}function Yc(t,e,r){return e&&ga(t.prototype,e),r&&ga(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_r(t,e)}function _r(t,e){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_r(t,e)}function eu(t){var e=ru();return function(){var n=Pt(t),i;if(e){var a=Pt(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tu(this,i)}}function tu(t,e){if(e&&(xe(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(t)}function F(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ru(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pt(t)}function j(t,e,r){return e=va(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function va(t){var e=nu(t,"string");return xe(e)=="symbol"?e:String(e)}function nu(t,e){if(xe(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X=ft({name:"instantsearch"});function iu(){return"#"}var au={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},su=function(t){Zc(r,t);var e=eu(r);function r(n){var i,a;Xc(this,r),a=e.call(this),j(F(a),"client",void 0),j(F(a),"indexName",void 0),j(F(a),"compositionID",void 0),j(F(a),"insightsClient",void 0),j(F(a),"onStateChange",null),j(F(a),"future",void 0),j(F(a),"helper",void 0),j(F(a),"mainHelper",void 0),j(F(a),"mainIndex",void 0),j(F(a),"started",void 0),j(F(a),"templatesConfig",void 0),j(F(a),"renderState",{}),j(F(a),"_stalledSearchDelay",void 0),j(F(a),"_searchStalledTimer",void 0),j(F(a),"_initialUiState",void 0),j(F(a),"_initialResults",void 0),j(F(a),"_createURL",void 0),j(F(a),"_searchFunction",void 0),j(F(a),"_mainHelperSearch",void 0),j(F(a),"_hasSearchWidget",!1),j(F(a),"_hasRecommendWidget",!1),j(F(a),"_insights",void 0),j(F(a),"middleware",[]),j(F(a),"sendEventToInsights",void 0),j(F(a),"status","idle"),j(F(a),"error",void 0),j(F(a),"scheduleSearch",Se(function(){a.started&&a.mainHelper.search()})),j(F(a),"scheduleRender",Se(function(){var W,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(W=a.mainHelper)!==null&&W!==void 0&&W.hasPendingRequests()||(clearTimeout(a._searchStalledTimer),a._searchStalledTimer=null,q&&(a.status="idle",a.error=void 0)),a.mainIndex.render({instantSearchInstance:F(a)}),a.emit("render")})),j(F(a),"onInternalStateChange",Se(function(){var W=a.mainIndex.getWidgetUiState({});a.middleware.forEach(function(q){var C=q.instance;C.onStateChange({uiState:W})})})),a.setMaxListeners(100);var s=n.indexName,c=s===void 0?"":s,u=n.compositionID,o=n.numberLocale,l=n.initialUiState,f=l===void 0?{}:l,m=n.routing,p=m===void 0?null:m,d=n.insights,h=d===void 0?void 0:d,g=n.searchFunction,y=n.stalledSearchDelay,b=y===void 0?200:y,S=n.searchClient,R=S===void 0?null:S,w=n.insightsClient,I=w===void 0?null:w,A=n.onStateChange,x=A===void 0?null:A,_=n.future,D=_===void 0?Pr(Pr({},au),n.future||{}):_;if(R===null)throw new Error(X("The `searchClient` option is required."));if(typeof R.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof R.addAlgoliaAgent=="function"&&R.addAlgoliaAgent("instantsearch.js (".concat(ma,")")),I&&typeof I!="function")throw new Error(X("The `insightsClient` option should be a function."));if(a.client=R,a.future=D,a.insightsClient=I,a.indexName=c,a.compositionID=u,a.helper=null,a.mainHelper=null,a.mainIndex=fa({indexName:a.compositionID||a.indexName}),a.onStateChange=x,a.started=!1,a.templatesConfig={helpers:wr({numberLocale:o}),compileOptions:{}},a._stalledSearchDelay=b,a._searchStalledTimer=null,a._createURL=iu,a._initialUiState=f,a._initialResults=null,a._insights=h,g&&(a._searchFunction=g),a.sendEventToInsights=J,p){var P=typeof p=="boolean"?{}:p;P.$$internal=!0,a.use(na(P))}if(h){var E=typeof h=="boolean"?{}:h;E.$$internal=!0,a.use(fr(E))}return Di()&&a.use(Ci({$$internal:!0})),a}return Yc(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];var u=s.map(function(o){var l=Pr({$$type:"__unknown__",$$internal:!1,subscribe:J,started:J,unsubscribe:J,onStateChange:J},o({instantSearchInstance:i}));return i.middleware.push({creator:o,instance:l}),l});return this.started&&u.forEach(function(o){o.subscribe(),o.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(c){return a.includes(c.creator)}).forEach(function(c){return c.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(c){return!a.includes(c.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(X("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(X("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(M))throw new Error(X("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(X("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(X("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(X("The `start` method has already been called once."));var a=this.mainHelper||(0,xr.default)(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(a.searchForFacetValues=a.searchForCompositionFacetValues.bind(a)),a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?a.searchWithComposition():a.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var s={search:function(){return new Promise(J)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),o=(0,xr.default)(s,u.state.index,u.state);return o.once("search",function(l){var f=l.state;u.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),o.on("change",function(l){var f=l.state;u.setState(f)}),i._searchFunction(o),a}}if(a.on("error",function(u){var o=u.error;if(!(o instanceof Error)){var l=o;o=Object.keys(l).reduce(function(f,m){return f[m]=l[m],f},new Error(l.message))}o.error=o,i.error=o,i.status="error",i.scheduleRender(!1),i.emit("error",o)}),this.mainHelper=a,this.middleware.forEach(function(u){var o=u.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){Si(this.client,this._initialResults),vi(this.mainHelper,this._initialResults);var c=this.scheduleSearch;this.scheduleSearch=Se(J),Se(function(){i.scheduleSearch=c})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var o=u.instance;o.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(o){var l=o.results;return l?._automaticInsights});u&&i.use(fr({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(X("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var c=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:c,setUiState:function(o){lt(typeof o=="function"?o(c):o,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(lt(c,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(X("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(X("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(ya.default),_t=su;var xt=Vr(It.algolia.appId,It.algolia.apiKey),ba=class t{instantSearchInstance;instantSearchMediasInstance;router=Er(Ar);query=Tr("");constructor(){this.instantSearchInstance=new _t({searchClient:xt,indexName:"GHCOMsearchable_posts",future:{preserveSharedStateOnUnmount:!0},stalledSearchDelay:2e3,routing:{router:Pe({cleanUrlOnDispose:!1,getLocation:()=>typeof window>"u"?new URL(this.router.location._locationStrategy._platformLocation.href):window.location})}}),this.instantSearchMediasInstance=new _t({searchClient:xt,indexName:"GHCOMposts_attachment",future:{preserveSharedStateOnUnmount:!0},stalledSearchDelay:2e3,routing:{router:Pe({cleanUrlOnDispose:!1,getLocation:()=>typeof window>"u"?new URL(this.router.location._locationStrategy._platformLocation.href):window.location})}})}start(){this.instantSearchInstance.start(),this.instantSearchMediasInstance.start()}addWidgets(e){this.instantSearchInstance.addWidgets(e),this.instantSearchMediasInstance.addWidgets(e)}removeWidgets(e){this.instantSearchInstance.removeWidgets(e),this.instantSearchMediasInstance.removeWidgets(e)}createInstance(e){return new _t({searchClient:xt,indexName:e,future:{preserveSharedStateOnUnmount:!0},stalledSearchDelay:2e3})}async requests(e=[],r=null){let n={indexName:"GHCOMsearchable_posts",hitsPerPage:33};return r?n.filters=`objectID:${r}`:e&&(n.facetFilters=e),await xt.searchForHits({requests:[n]})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=jr({token:t,factory:t.\u0275fac,providedIn:"root"})};export{er as a,J as b,oi as c,ui as d,il as e,fi as f,ft as g,le as h,xi as i,ba as j};
